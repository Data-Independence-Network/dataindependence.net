var _mNRequire,_mNDefine;!function(){"use strict";var c={},u={};function a(e){return"function"==typeof e}_mNRequire=function e(t,r){var n,i,o=[];for(i in t)t.hasOwnProperty(i)&&("object"!=typeof(n=t[i])&&void 0!==n?(void 0!==c[n]||(c[n]=e(u[n].deps,u[n].callback)),o.push(c[n])):o.push(n));return a(r)?r.apply(this,o):o},_mNDefine=function(e,t,r){if(a(t)&&(r=t,t=[]),void 0===(n=e)||""===n||null===n||(n=t,"[object Array]"!==Object.prototype.toString.call(n))||!a(r))return!1;var n;u[e]={deps:t,callback:r}}}();_mNDefine("modulefactory",[],function(){"use strict";var r={},e={},o={},i={},n={},t={},a={};function c(r){var e=!0,o={};try{o=_mNRequire([r])[0]}catch(r){e=!1}return o.isResolved=function(){return e},o}return r=c("conversionpixelcontroller"),e=c("browserhinter"),o=c("kwdClickTargetModifier"),i=c("hover"),n=c("mraidDelayedLogging"),t=c("macrokeywords"),a=c("tcfdatamanager"),{conversionPixelController:r,browserHinter:e,hover:i,keywordClickTargetModifier:o,mraidDelayedLogging:n,macroKeywords:t,tcfDataManager:a}});_mNDefine("overrideprivacypolicylinkhost",["util","metaparamutil","overridekwclickhost"],function(n,o,e){"use strict";return{modifyPrivacyPolicyLink:function(i){var r=o.misc.pvLink;n.isStringSet(r)&&(i=(i=e.replaceHostWithMacro("",i)).toLowerCase(),n.isStringSet(i)&&(i=function(i){if(o.misc.pvConfig){var r,e=o.misc.pvConfig,t=n.getHostname(i);for(r in e)if(e.hasOwnProperty(r)&&t===r.toLowerCase())return e[r]}return""}(i),n.isStringSet(i)&&(r=i)),function(i){for(var r=document.getElementsByTagName("a"),e=r.length;e--;)-1!==r[e].href.indexOf("##UrlForPrivacyPolicy##")&&(r[e].href=i)}(r))}}});_mNDefine("browserhinter",["preconnect","dnsprefetch","linkprefetch","metaparamutil","util"],function(t,i,r,p,o){"use strict";function s(e){var n=p.misc.brwHint;return!!(n&&n.linkpf&&o.isStringSet(n.linkpf.event)&&r.isSupported()&&document.location.protocol==e.protocol)}return{setupConnectionHints:function(e){var n;p.misc.brwHint&&(n=p.misc.brwHint,e=e,n.preConn&&1==n.preConn.enable&&t.isSupported()&&t.initialiseSerpPreconnectSetup(n.preConn.event,e,n.preConn.addHosts),n.dnspf&&1==n.dnspf.enable&&i.isSupported()&&i.initialiseSerpDnsPrefetchSetup(e,n.dnspf.addHosts),s(e)&&r.initialiseSerpLinkPrefetchSetup(n.linkpf.event,e))},shouldEnableLinkPrefetch:s}});_mNDefine("dnsprefetch",["hintutil","domutil","util"],function(n,i,c){var r={};return{initialiseSerpDnsPrefetchSetup:function(t,e){t=(e||[]).concat(i.getHostnameOfAnchorElement(t)),c.each(t,function(t){1!==r[t]&&(n.injectHostNameHint("dns-prefetch",t),r[t]=1)})},isSupported:function(){return n.isHintSupported("dns-prefetch")}}});_mNDefine("hintutil",["util"],function(r){return{injectHostNameHint:function(t,e,n){if(r.isStringSet(e))try{var i=document.createElement("link");i.rel=t,i.href=e,r.isStringSet(n)&&(i.crossOrigin=n),(document.head||document.getElementsByTagName("head")[0]).appendChild(i)}catch(t){}},isHintSupported:function(t){try{return document.createElement("link").relList.supports(t)}catch(t){}return!1}}});_mNDefine("util",[],function(){"use strict";var r={},e=[];function t(t,e){var n,r,o="",i=!!e,a=i?e:t;for(n in a)a.hasOwnProperty(n)&&(i&&(n=e[n]),!u(t[n])||"object"==typeof(r=t[n])&&!1===r.isUrlEntity||(o+=f(n,"object"==typeof t[n]?t[n].value:t[n])));return o}function n(t,e){s(t)&&(e=u(e)?e:"",r[t]=e)}function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(t){return"function"==typeof t}function s(t){return"string"==typeof t&&""!==t}function u(t){switch(typeof t){case"string":return s(t);case"object":return null!==t;case"number":case"boolean":return!0;default:return!1}}function f(t,e){return s(e)||"number"==typeof e?"&"+encodeURIComponent(t)+"="+encodeURIComponent(e):""}function p(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function o(t,e){if(u(t)){var n=0,r=t.length;if(i(t))for(;n<r;n++)e.call(t[n],t[n],n,r);else for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(t[n],t[n],n,0)}}function a(t,e,n){void 0===e&&(e=9);var r="fnAtVWuFLkzK7/pxsTUlChSE-Q_Pj=wb4ogM0dvBGHmyc9OeRZqY5NiaJD2 3XI816r";s(n)&&(r=n);for(var o="",i=0;i<t.length;i++){var a=t.charAt(i),u=r.indexOf(a);o+=0<=u?r.charAt((u+e)%r.length):a}return o}function l(t,e){var n=t.split("?");if(s(e)&&1<n.length){t=n[0]+"?","&"!=e[e.length-1]&&(e+="&"),t+=e;for(var r=1;r<n.length;r++)t+=n[r]}return t}function d(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)}function m(t,e){if(u(t)){c(e)||(e=function(t,e){return!!t});var n,r=0,o=t.length;if(i(t)){for(;r<o;r++)if(u(n=e.call(t[r],t[r],r)))return n}else for(r in t)if(t.hasOwnProperty(r)&&u(n=e.call(t[r],t[r],r)))return n}}function g(e){try{return decodeURIComponent(e)}catch(t){return e}}function y(t,e){return!!s(t)&&(s(e)&&-1!==t.indexOf(e))}return{isL3ParentNotAccessible:function(){try{if(window.frameElement)return!1}catch(t){}return!0},getIEVersion:function(){var t,e=navigator.userAgent;return(y(e,"Trident")||y(e,"MSIE"))&&u(t=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e))&&u(t[1])?parseFloat(t[1]):-1},getParentObjectForMNDetails:function(){var t;try{window.parent&&"object"==typeof window.parent._mNDetails&&(t=window.parent),window.parent&&window.parent.parent&&"object"==typeof window.parent.parent._mNDetails&&(t=window.parent.parent)}catch(t){}return t},isArray:i,checkItemExists:y,isFunction:c,isStringSet:s,isSet:u,isNumeric:function(t){return u(t)&&!isNaN(t)},obfuscateSizeFormat:function(t,e){return e=e||"_",t.replace("x",e)},addVgData:n,addVgDataIfValueSet:function(t,e){u(e)&&"object"!=typeof e&&n(t,e)},getVgDataStringToLog:function(){var n="";return o(r,function(t,e){n+=["&","vgd_"+e,"=",encodeURIComponent(t)].join("")}),n},getParamValueFromUrlAsArray:function(t){var e,n,r,o={},i=t.indexOf("?");if(i<0)return o;for(n=(e=t.substring(i+1).split("&")).length;n--;)s((r=e[n].split("="))[0])&&(o[r[0]]=r[1]);return o},getLayer1WindowObject:function(){var t;try{window.parent&&"object"==typeof window.parent._mN?t=window.parent:window.parent&&window.parent.parent&&"object"==typeof window.parent.parent._mN&&(t=window.parent.parent)}catch(t){}return t},getKeyValueFromObject:function(t,e){return t[e]||""},buildUrlParameters:t,getQueryParamString:f,getProxy:function(e,n,r){return r=r||null,function(){var t=n.slice(0);0<arguments.length&&Array.prototype.push.apply(t,Array.prototype.slice.call(arguments)),e.apply(r,t)}},trim:function(t){return String.prototype.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},replaceParam:function(t,e,n){return e=new RegExp("(&"+e+"=)([^&]+)"),t.replace(e,"$1"+n)},clock:new function(){var t,e={},n=!1;this.startTime=function(){return t},this.start=function(){t=(new Date).getTime(),n=!0},this.stop=function(){(new Date).getTime(),n=!1},this.diff=function(){return(new Date).getTime()-t},this.tick=function(t){e[t]={},e[t].startTime=n?this.diff():-1},this.tock=function(t){e[t]&&(e[t].endTime=-1===e[t].startTime?-1:this.diff())},this.time=function(t){return e[t]?(e[t].endTime||this.tock(t),e[t].endTime-e[t].startTime):-1},this.getTime=function(t){return e[t]?this.diff()-e[t].startTime:-1},this.getAllTime=function(){return e}},loadJsAsync:function(t,e){var n=document.createElement("script"),r=document.getElementsByTagName("script")[0];n.type="text/javascript",t&&""!=t&&(n.src=t),e&&""!=e&&(n.text=e),r.parentNode.insertBefore(n,r)},getRandom:p,getTimeRand:function(t){return e[t]||""},setTimeRand:function(t){e[t]=(new Date).getTime()},encryptValue:a,decryptValue:function(t,e,n){void 0===e&&(e=9);var r=67-e;return s(n)&&(r=n.length-e),a(t,r,n)},prependAsFirstQueryParamInUrl:function(t,e,n){return l(t,e+"="+encodeURIComponent(n)+"&")},prependStringBeforeQueryParamsInUrl:l,classPresent:d,getChildElemByClass:function(t,e,n){if(c(document.getElementsByClassName))return t.getElementsByClassName(e);n=n||"*";for(var r,t=t||document,o="*"===n&&t.all?t.all:t.getElementsByTagName(n),i=[],a=o.length,u=0;u<a;u++)d(r=o[u],e)&&i.push(r);return i},inherits:function(t,e){for(var n in(t.super_=e).prototype)t.prototype[n]=e.prototype[n];t.prototype.constructor=t},isEmptyObject:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},mergeObjects:function(t,e){var n,r,o={};for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);for(r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);return o},each:o,checkItemExistsInArray:function(t,e){if(!i(t))return!1;e=e.toUpperCase();for(var n=0;n<t.length;n++)if(t[n].toUpperCase()==e)return!0;return!1},truncateUrl:function(e,t,n){n=n||!1;var r=10;for(-1!==t&&(n||(t=t&&999<t?t:4e3),e=e.substring(0,t));0<r--;)try{decodeURIComponent(e);break}catch(t){e=e.substring(0,e.length-1)}return e},isPostMessageSupported:function(){return"postMessage"in window&&"function"==typeof window.postMessage},isJSONSupported:function(){return!!(window.JSON&&window.JSON.parse&&"function"==typeof JSON.parse&&window.JSON.stringify&&"function"==typeof JSON.stringify)},any:m,percBasedValueSelect:function(t,r,o){r=r||!1,o=o||!1;var i=parseInt(p(1,100),10),a=0;return m(t,function(t,e){var n;if(r&&(n=t,t=e,e=n),t=parseInt(t,10),a+=t,i<=(o?t:a))return e})},decodeParam:g,getHostname:function(t){t=g(t);var e=new RegExp("^http(?:s)?://([^/]+)","im");return(e=t.match(e))?e[1].toString():""},checkPercentageWithRandomNumber:function(t){return parseInt(p(1,100),10)<=t},isReplaceStateSupported:function(){return!(!window.history||!window.history.replaceState||"function"!=typeof window.history.replaceState)},getQueryString:t}});_mNDefine("domutil",["util"],function(o){function t(e,t){try{if(o.isStringSet(t)){var n=e.document;return e["inner"+t]||n.documentElement&&n.documentElement["client"+t]||n.body&&n.body["client"+t]}}catch(e){}return""}function e(e){return t(e,"Width")}function n(e){return t(e,"Height")}return{setIframeHeight:function(e,t){(e=e.frameElement)&&(e.height=t,!isNaN(t)&&isFinite(t)&&(e.style.height=t+"px"))},addClass:function(e,t){var n;o.isStringSet(t)&&(n=e,!new RegExp("(^|\\s)"+t+"(\\s|$)").test(n.className))&&(e.className+=" "+t+" ")},removeClass:function(e,t){return e.className=e.className.replace(new RegExp(t,"g"),"").replace(/\s{2,}/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""),e},getHeightOfRenderedPage:function(){try{if(window&&window.top&&window.top.document&&window.top.document.documentElement&&window.top.document.documentElement.scrollHeight)return window.top.document.documentElement.scrollHeight}catch(e){return""}return""},isAnyParentSrcful:function(e){try{if(e&&e.top&&e.top.document)return!1}catch(e){return!0}return!0},getWindowScreenDimensions:function(){var e="",t="";return window&&window.screen&&(e=window.screen.height||e,t=window.screen.width||t),{height:e,width:t}},getWindowHeight:n,getWindowWidth:e,getRenderedSizeOfAdtag:function(){return o.obfuscateSizeFormat(e(window)+"x"+n(window))},isTopMostWindowAccessible:function(){try{window.top.location.href;return!0}catch(e){}return!1},isSessionStorageSupported:function(){try{return window.sessionStorage&&o.isFunction(sessionStorage.removeItem)&&o.isFunction(sessionStorage.getItem)&&o.isFunction(sessionStorage.setItem)}catch(e){}return!1},setItemInSessionStorage:function(e,t){try{window.sessionStorage.setItem(e,t)}catch(e){}},getItemFromSessionStorage:function(e){try{return window.sessionStorage.getItem(e)||""}catch(e){}return""},removeItemFromSessionStorage:function(e){try{window.sessionStorage.removeItem(e)}catch(e){}},getHostnameOfAnchorElement:function(e){return o.isSet(e.origin)?e.origin:o.isSet(e.protocol)&&o.isSet(e.hostname)?e.protocol+"//"+e.hostname:o.isSet(e.href)?function(e){var t;if(-1<e.indexOf("//"))return e=(t=e.split("/"))[0]+"//"+t[2]}(e.href):void 0},setTargetOfElement:function(e,t){e.setAttribute("target",t)},getTargetOfElementForLogging:function(e){return{_top:"0",_blank:"1"}[e=e.getAttribute("target")]||e||"9"}}});_mNDefine("linkprefetch",["hintutil","eventlib"],function(o,i){function u(e){var t,n,r=e.target;r&&(t=r.href,n=null,-1<(e=navigator.userAgent.toLowerCase()).indexOf("chrome")&&!(-1<e.indexOf("opr/")||-1<e.indexOf("opera"))&&(n="anonymous"),o.injectHostNameHint("prefetch",t,n)),i.removeEvent(r,"mouseover",u),i.removeEvent(r,"touchstart",u)}return{isSupported:function(){return o.isHintSupported("prefetch")},initialiseSerpLinkPrefetchSetup:function(e,t){"hover"==e&&(t=t,i.addEvent(t,"mouseover",u),i.addEvent(t,"touchstart",u))}}});_mNDefine("eventlib",["util","commonconstants"],function(r,a){"use strict";var n={};function o(e,t){(r.isStringSet(e)||r.isFunction(t))&&(n[e]=n[e]||[],n[e].push(t))}return{addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),e=null},removeEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n),e=null},triggerParentEvent:function(e,t,n,i){try{if(!r.isL3ParentNotAccessible())return void window.parent._mNDetails.triggerAdTagEvent(t,e,n,i)}catch(e){}var a={type:e,mnEvnId:t,preventDelete:n,params:i};window.parent.postMessage(JSON.stringify(a),"*")},addToEventQueue:o,triggerEventFromQueue:function(e,t){r.isStringSet(e)&&r.each(n[e],function(e){e.call(null,t)})},addToL1DelayedEventQueue:function(e,t,n){var i;r.isL3ParentNotAccessible()?o(a.EVENTS.TRIGGER_SOURCEFUL_L3_EVENT_PREFIX+e,n):(i=r.getParentObjectForMNDetails())&&i._mNDetails&&i._mNDetails.addToDelayedEventQueue&&i._mNDetails.addToDelayedEventQueue(e,t,function(e,t){try{n.call(null,t)}catch(e){}})}}});_mNDefine("commonconstants",[],function(){"use strict";function E(){}return E.TIME={RANDOM:"rand",KEYWORDS_LOAD_TIMESTAMP:"keywordsLoadTimeStamp"},E.EVENTS={WINNING_COLLECTION_SET:"winCollectionSet",BLOCK_HOVER_IMPRESSION:"blockHoverImpression",TRIGGER_SOURCEFUL_L3_EVENT_PREFIX:"L3SF::",GENERIC_L3_SOURCEFUL_SYN:"L3SF"},E.RTBS={WINNING_PROVIDER_BIDDER_ID:"winProv",SUB_BIDDER_ID:"subBdr",IS_EXTERNAL_NATIVE_BIDDER_WIN:"ext_win",IS_NATIVE_ADTAG:"is_native",NATIVE_EXTERNAL_PROVIDER_AD_CODE:"natAdCode",REFRESH_CONFIG:"refreshConfig",REFRESH_IMPRESSIONS:"refreshImp",BID_DATA:"bidData",MATCH_STRING:"matchString",BIDDER_COST:"bid",RTBS_TIME:"rtbsTime",WINNING_REASON:"winReason",AUCTION_ID:"aid",LOGGING_FUNCTION:"logFunc",DFP_TARGETING_PARAMS:"dfpTgt",MNET_ADX_BUCKET_NAME:"mnAxbx"},E.BIDDER_INFO={NATIVE_RA_BIDDER_ID:"92"},E.NATIVE_NODE_PARAMS={GENERIC_PARAMS:"GENERIC",RELATED_ARTICLES:"RA",DIRECT_ADS:"ADS"},E.AD_TYPES={ADS:"internal",FADS:"internal",WEB_RESULTS:"web",KEYWORDS:"kwds",EXTERNAL:"external"},E.COLLECTION_TYPE={ADS:"ad",KEYWORDS:"keyword",EXTERNAL:"external",NATIVE:"native"},E.W_ENCODE_PARAMS={DECODE_FROM:"t w x y z",DECODE_TO:"% %22 %2c %3a %20"},E.LOG_PIPELINE={CLICK_URL_KEY:"lgpl",CLICK_URL_KEY_PREPEND:"lgplp",DIRECT_AD_CLICK_URL_KEY:"rtlg",DIRECT_AD_CLICK_URL_KEY_PREPEND:"rtlgp",PV_PREFIX:"vgd_",ENCRYPTED_PV_PREFIX:"vgde_",RENDERED_SIZE_OF_ADTAG:"rensize",ERPM_YBNCA_AUTO:"erpm",SCREEN_HEIGHT:"scr_h",SCREEN_WIDTH:"scr_w",MACRO_VISITOR_ID:"vstrid",L2_TYPE:"l2type",OPT_OUT:"optout",BID_DATA:"bdata",MSN_OATH_FLAG:"oathbf",EFFECTIVE_CONNECTION_TYPE:"ect"},E});_mNDefine("preconnect",["hintutil","eventlib","domutil","util"],function(n,i,r,u){"use strict";var a={},f=[];function v(t){u.each(t,function(t){n.injectHostNameHint("preconnect",t),a[t]=1})}function c(t,n,e){var o=r.getHostnameOfAnchorElement(n),c=f.concat(o);m(o)||(v(c),i.removeEvent(n,"mouseover",e),i.removeEvent(n,"touchstart",e),setTimeout(function(){var t;t=c,u.each(t,function(t){a[t]=0}),s(n)},5e3))}function s(t){var n,e=r.getHostnameOfAnchorElement(t),o=(n=t,function(t){c(0,n,o)});m(e)||(i.addEvent(t,"mouseover",o),i.addEvent(t,"touchstart",o))}function m(t){return 1===a[t]}return{initialiseSerpPreconnectSetup:function(t,n,e){f=e||[],"hover"==t&&s(n)},isSupported:function(){return n.isHintSupported("preconnect")}}});_mNDefine("metaparamutil",["util","commonconstants"],function(i,e){"use strict";function s(s){var t=e.W_ENCODE_PARAMS.DECODE_FROM.split(" "),n=e.W_ENCODE_PARAMS.DECODE_TO.split(" ");return i.each(t,function(t,i){var e;e=s,i=[t,n[i]],s=e.replace(new RegExp(i[0],"g"),i[1])}),s}function n(){var t=s("undefined"!=typeof viForJtag&&"undefined"!=typeof _mNDetails&&_mNDetails[viForJtag]&&_mNDetails[viForJtag].w||window.w);return window._mNL3&&1==window._mNL3.mpref&&JSON&&"function"==typeof JSON.parse?JSON.parse(decodeURIComponent(t)):new Function("return"+unescape(t))()}function a(){var t="",i=this.misc.hbAudit1;i&&(t+="&vgd_hb_audit_1="+i);i=this.misc.hbAudit2;return i&&(t+="&vgd_hb_audit_2="+i),t}return{init:function(){var t=n();this.ndAdParams=t.ndadp||{},this.meta=t.meta||{},this.misc=t.misc||{},this.abf=t.abf||{},this.abss=t.abss||"",this.keywords=t.keywords||[],this.log=t.log||{},this.lper=t.lper||100,this.dlper=t.dlper||null,this.abpl=t.abpl||0,this.lgPp=t.lgPp||{},this.getHbAuditLogParam=a,(t=t.ntc)&&(this.requiredAdsCount=t.adsCount||0,this.kbbImageSize=t.kImgS||"",this.nativeMiscParams=t.misc||{}),window.metaParams=this}}});_mNDefine("hover",["util","eventlib","logutil","metaparamutil","commonconstants",window],function(r,t,i,c,e,n){"use strict";var m,a=document&&document.body||n,s="",u=!1;function d(){var i=c&&c.misc&&c.misc.hN||"",t=c&&c.misc&&c.misc.lFN||"",e=function(){var i="lf=4",t={prid:c.meta.prid||"",crid:c.meta.crid||"",pid:c.meta.pid||"",cid:c.meta.cid||"",dn:c.misc.domain||"",chid:c.meta.chid||"",ugd:c.meta.ugd||"",cc:c.misc.country_code||"",sc:n._mNL3&&n._mNL3._ip2allsc||"",gdpr:r.isSet(c.misc.privacy.gdpr)&&String(c.misc.privacy.gdpr)||"",uspenf:r.isSet(c.misc.privacy.uspenf)&&String(c.misc.privacy.uspenf)||"",vi:n._mNL3&&n._mNL3.vi||"",abpl:n.mUtil&&n.mUtil.getABPFlag("val")||"",vsid:_mNVsid||"",requrl:c.misc.requrl||""};i+=r.buildUrlParameters(t),i+=c.meta.cme?"&cme="+c.meta.cme:"",i+=n.metaParams.getHbAuditLogParam(),r.isStringSet(s)&&(i+=s);return i}(),m="";return r.isStringSet(i)&&r.isStringSet(t)&&(m=i+"/"+t+"?"+e),n._mNL3&&1===n._mNL3._trunLogUrl&&(m=r.truncateUrl(m)),m}function o(){t.removeEvent(a,"mouseover",o),!0!==u&&i.logBeacons(d())}return{init:function(i){s=i,r.isSet(m)||(m=!0,t.addEvent(a,"mouseover",o),t.addToEventQueue(e.EVENTS.BLOCK_HOVER_IMPRESSION,function(){u=!0}))}}});_mNDefine("logutil",["util"],function(c){"use strict";function r(n){var e=n.split("?"),t=e[0],n="";return 1<e.length&&(n=e.splice(1,e.length-1).join()),{baseUrl:t||"",queryString:c.isSet(n)?n:""}}function s(n,e){c.isSet(e)&&(n=n+"?"+e),c.loadJsAsync(n,"")}function o(n,e,t,o){function i(){}function r(){(t.fallback||i)()}function s(){(t.onerror||i)()}if(window.XMLHttpRequest){var a=new XMLHttpRequest,u=!1;if(n=(n||"post").toUpperCase(),"withCredentials"in a)a.open(n,e,!0),a.withCredentials=!c.isSet(t.withCredentials)||t.withCredentials;else{if(!window.XDomainRequest)return void r();a=new XDomainRequest;try{a.open(n,e)}catch(n){return void r()}}return a.onload=a.onreadystatechange=function(){u||4==a.readyState&&(200==a.status?(t.onload||i)(a.response||a.responseText):s(),u=!0)},a.onerror=s,a.onabort=s,a.send(o),1}r()}function a(n,e){var t={};t.onerror=t.fallback=c.getProxy(s,[n,e]),t.withCredentials=!1,o("post",n,t,e)}function u(){return!!c.isFunction(window.navigator.sendBeacon)}return{logBeacons:function(n,e){var t,o,i;c.isSet(n)&&(t=((e=e||{}).method||"get").toLowerCase(),o=(i=r(n)).baseUrl||"",e=i.queryString||"","sb"===t?function(n,e){if(u())return window.navigator.sendBeacon(n,e);return!1}(n=o,i=e)||a(n,i):("post"===t?a:s)(o,e))},splitUrl:r,logViaImage:function(n){c.isSet(n)&&((new Image).src=n)},isSendBeaconSupport:u}});_mNDefine("tcfdatamanager",["util","commonconstants","kafkaLogPixelLib","metaparamutil","eventlib"],function(e,a,c,_,n){var i,o,r={LOG:{TCF_CMP_PRESENT_FLAG:"tcf_cmp",TCF_DATA_READY_DELAY_TIME:"tcf_rdt",VIEW_ID:"vi"},EVENTS:{CM_TCF_DATA_IS_READY:"tcfEvt::tcReady"}},E=!1,f=[];function u(){return{init:function(){var i=(new Date).getTime();T(function(t){var a,e,n=(new Date).getTime()-i;a=n,e=t,n=_.misc.kfkPxlDataObj||{},t=n.pxlHost||"",n=n.enDt||{},e=e.logParams||{},(t=new c("tcf_data",t)).addPair(r.LOG.TCF_DATA_READY_DELAY_TIME,a||""),t.addPair(r.LOG.VIEW_ID,o),t.addPairList(e),t.addPairList(n),t.firePixel()})}}}function T(t){if(e.isFunction(t))if(E)try{t(i)}catch(t){}else f.push(t)}function d(t){E=!0,i=t||{},e.each(f,function(t){try{t(i)}catch(t){}}),f=[]}return{waitForTcDataToBeReady:function(t){o=t,n.addToL1DelayedEventQueue(r.EVENTS.CM_TCF_DATA_IS_READY,o,d),T(function(t){t&&t.blockHoverImpression&&n.triggerEventFromQueue(a.EVENTS.BLOCK_HOVER_IMPRESSION,{})})},addConsentDataToLog:function(){var t;E?(t=i.logParams||{},e.each(t,function(t,a){e.addVgDataIfValueSet(a,t)})):(e.addVgDataIfValueSet(r.LOG.TCF_CMP_PRESENT_FLAG,1),(new u).init())}}});_mNDefine("kafkaLogPixelLib",["util","beaconutil"],function(o,r){"use strict";return function(i,e){e=e||"";var n={logid:"kfk",evtid:i=i||""},t=this;t.addPair=function(t,i){n[t]=i},t.addPairList=function(t){n=o.mergeObjects(n,t)},t.firePixel=function(){var t;o.isStringSet(i)&&o.isStringSet(e)&&(t=o.getQueryString(n),t=("https:"==document.location.protocol?"https":"http")+"://"+e+"/log?"+t,r.fireImagePixel(t))}}});_mNDefine("beaconutil",["util"],function(i){"use strict";return{fireImagePixel:function(e){(new Image).src=e},fireScriptPixel:function(e,t){var n;i.isStringSet(e)&&((n=document.createElement("script")).type="text/javascript",n.src=e,t&&(n.async="async"),document.body.appendChild(n))},createCORSRequest:function(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest).open(e,t):n=null,n}}});_mNDefine("l3receiver",["util"],function(r){"use strict";var n,o,t;return{getL3DecisionParams:function(){return n||{}},getL3DecisionParamValue:function(e){return n.hasOwnProperty(e)?n[e]:""},getL3LogParams:function(){return o||{}},getL3LogString:function(){var t="";return r.each(o,function(e,n){t+=r.isStringSet(n)&&r.isSet(e)?r.getQueryParamString(n,e):""}),t},getClickLogPrependParams:function(){return t||{}},setData:function(e){n=e.l3d?JSON.parse(decodeURIComponent(e.l3d)):{},o=e.l3l?JSON.parse(decodeURIComponent(e.l3l)):{},t=e.clp?JSON.parse(decodeURIComponent(e.clp)):{}}}});_mNDefine("adprefdeviceutil",["util","domutil","metaparamutil"],function(e,t,n){"use strict";var i=window._mNL3&&window._mNL3.vi?window._mNL3.vi:"",o=document.getElementById("gear_icon"),d=document.getElementById("mnetadchoices"),c=document.getElementById("scr_wrap"),r=document.getElementById("scr_feedback_wrap"),s=document.getElementsByName("feedback_option"),u=document.getElementById("scr_msg"),l=document.getElementById("scr_options"),a=document.getElementById("scr_undo_cont"),m=document.getElementById("scr_other_txt_box");function g(){if(s)for(var e=0;e<s.length;e++)if(s[e].checked)return s[e].value;return""}function f(){return"other"===g()}function _(e){e&&(e.style.display="none")}function v(e){e&&(e.style.display="block")}function p(){return!m||!f()||!!e.trim(m.querySelector("input").value)}function y(){mUtil.triggerL1Event("adPrefShow",i,!0,{viewId:i})}function E(){_(c),_(r),_(u),_(l),_(a)}function h(){v(c),v(r),v(u),_(l),_(a)}function w(){_(r),v(a)}function I(){var e={type:"undo"};S(e)}function S(e){e.logid="kfk",e.evtid="adPreference",e.cid=n.meta.cid,e.crid=n.meta.crid,e.pid=n.meta.pid,e.cc=n.misc.country_code,e.sc=_mNL3._ip2allsc,e.ugd=n.meta.ugd,e.vi=i,"undefined"!=typeof _mNVsid&&0<_mNVsid.length&&(e.vsid=_mNVsid),mUtil.fireLogPixel("/log",e)}return 7!=e.getIEVersion()&&8!=e.getIEVersion()||(o&&t.addClass(o,"oldIEversion"),d&&t.addClass(d,"oldIEversion")),o&&(o.onclick=h),{messageScreen:u,optionsScreen:l,fireUnHideAdLoggingPixel:I,validateSelection:p,triggerShowAdEvent:y,screenOptionsChanged:function(){f()?(t.addClass(l,"scr_options_active"),v(m)):(t.removeClass(l,"scr_options_active"),_(m))},showOptionsScreen:function(){_(u),v(l),_(a)},showUndoScreen:w,hideAdtag:function(){var e;p()&&(w(),(e={type:"hide"}).reason=g(),f()&&m&&m.querySelector("input").value&&(e.other_reason=m.querySelector("input").value),S(e),mUtil.triggerL1Event("adPrefClose",i,!0,{viewId:i}))},closeScreen:E,showAdtag:function(){I(),E(),y()},hideElement:_,unhideElement:v}});_mNDefine("adprefmobileutil",["adprefdeviceutil","util"],function(e,n){"use strict";var t=document.getElementById("scr_other_wrap");function i(){e.closeScreen(),e.hideElement(t)}function o(){e.showUndoScreen(),e.hideElement(t)}return n.mergeObjects(e,{hideAdtag:function(){e.validateSelection()&&(o(),e.hideAdtag())},showAdtag:function(){e.fireUnHideAdLoggingPixel(),i(),e.triggerShowAdEvent()},closeScreen:i,showOptionsScreen:function(){e.showOptionsScreen(),e.hideElement(t)},showOtherInputScreen:function(){e.hideElement(e.messageScreen),e.hideElement(e.optionsScreen),e.unhideElement(t)},showUndoScreen:o})});_mNDefine("overridekwclickhost",["util","metaparamutil"],function(a,i){"use strict";function r(t,e){return a.isStringSet(e)&&1==i.misc.kcDomainReplace&&(t=/^https?:\/\//i.test(e)?e:"http://"+e),t}function n(t){return a.isStringSet(t.nsd)?t.nsd+"-relatedsearches.net":"www.relatedsearches.net"}return{getReplacementHost:function(t,e,c){return r((t=t,e=e,a.isSet(i.misc.kcData)&&a.isStringSet(i.misc.kcData.kcKwdReplace)&&"1"!=i.misc.kcData.log?t.replace(i.misc.kcData.kcKwdReplace,n(e)):t),c)},replaceHostWithMacro:r,getNaturalSerpDomainToLog:function(t){var e=i.misc.kcData;return a.isSet(e)&&"1"==e.log?n(t):""}}});_mNDefine("serpLocHash",["util"],function(e){"use strict";var i={};return{addParamtoSerpLocHash:function(r,t){e.isSet(r)&&e.isSet(t)&&(i[r]=t)},getSerpLocHashString:function(){var r=e.buildUrlParameters(i);return e.isStringSet(r)?"#"+r.substring(1):""}}});_mNDefine("loggingpipeline",["util","commonconstants","l3receiver","metaparamutil"],function(a,l,P,L){"use strict";return function(){var i={},u={},g=l.LOG_PIPELINE,c=/[|:]/,r=this;function o(r,e,n){return t=r,!a.isStringSet(t)||c.test(t)?[]:[r.toLowerCase(),{value:e,enc:n}];var t}function e(r){var i="";return a.each(r,function(r,e){var n=g.PV_PREFIX,t=r.value;!0===r.enc&&(n=g.ENCRYPTED_PV_PREFIX,t=a.encryptValue(t)),i+=a.getQueryParamString(n+e,t)}),i}function n(n){var t=[];return a.each(n,function(r,e){t.push(e+":"+function(r){if(a.isStringSet(r))return r=(r=r.replace(/\|/g,"#@")).replace(/\:/g,"#*");return r}(n[e].value))}),t}function t(r,e){r=n((r=r||!1)?u:i);return a.isSet(e)&&(r=r.concat(n(e))),a.encryptValue(r.join("|"))}r.addPairToPipeline=function(r,e,n){n=n||!1;var t=L.misc.lgprp||{},n=o(r,e,n);2===n.length&&(t[t=n[0]]?u[t]=n[1]:i[t]=n[1])},r.getLogStringForPageView=function(){return e(i)+P.getL3LogString()},r.getPrependLogStringForPageView=function(){return e(u)},r.getLogQueryStringForClickUrl=function(){return a.getQueryParamString(g.CLICK_URL_KEY,t())},r.getPrependLogQueryStringForClickUrl=function(){return a.getQueryParamString(g.CLICK_URL_KEY_PREPEND,t(!0,(n={},r=P.getClickLogPrependParams(),a.each(r,function(r,e){r=o(e,r);2===r.length&&(n[r[0]]=r[1])}),n)));var n,r},r.getLogQueryStringForDirectAdClickUrl=function(){return a.getQueryParamString(g.DIRECT_AD_CLICK_URL_KEY,t())},r.getPrependLogQueryStringForDirectAdClickUrl=function(){return a.getQueryParamString(g.DIRECT_AD_CLICK_URL_KEY_PREPEND,t(!0))}}});_mNDefine("collectionfactory",["util"],function(e){"use strict";function t(){var n=[],i={};this.Properties={},this.add=function(t){return e.isSet(t)&&n.push(t),this},this.setProperty=function(t,n){i[t]=n},this.getProperty=function(t){return i[t]},this.get=function(t){return n[t]},this.getAll=function(){return n},this.getLength=function(){return n.length},this.print=function(){for(var t in n)n[t].print()}}function n(){t.call(this)}function i(){t.call(this)}function r(){t.call(this),this.Properties.ADCHOICES_URL="adchoices_url"}return e.inherits(n,t),e.inherits(i,t),e.inherits(r,t),{getGenericCollection:function(){return new t},getKeywordAdCollection:function(){return new n},getRelatedArticlesCollection:function(){return new i},getExternalProviderAdCollection:function(){return new r}}});_mNDefine("multilayereventutil",["util","metaparamutil","lochashutil"],function(n,a,s){"use strict";function e(e,t,r){var i=n.getLayer1WindowObject();i&&i._mNDetails&&i._mNDetails.triggerAdTagEvent&&n.isStringSet(e)&&i._mNDetails.triggerAdTagEvent(a.meta.crid,e,t,r)}return{triggerL1Event:function(e,t,r,i){var a={type:e,mnEvnId:t,preventDelete:r,params:i};s.isL2inSourcefulIframe()?(a.params.l2Src=1,window.parent.parent.postMessage(JSON.stringify(a),"*")):n.isL3ParentNotAccessible()?(a.params.l3Src=1,window.parent.postMessage(JSON.stringify(a),"*")):window.parent._mNDetails.triggerAdTagEvent(t,e,r,i)},triggerAdLoadEvents:e,triggerAdTagLoaded:function(){e("adLoaded",!0)}}});_mNDefine("urlutil",["util","metaparamutil","lochashutil"],function(i,n,r){"use strict";var e=!1;return{getOriginalReferrerParamForLog:function(e){var r=function(){if(!i.isStringSet(window._mNoRef))return n.misc.referer?decodeURIComponent(n.misc.referer):null;var e=window._mNoRef,r=n.misc?n.misc.domain:"";return null!==(e=new RegExp(r+":([^|]+)").exec(decodeURIComponent(e)))?e[1]:null}();return i.isStringSet(r)&&(!e||"1"!==e.isyg&&"1"!==e.iseb)?"&oref="+encodeURIComponent(r):""},getCanonicalUrlObject:function(){return!e&&n.misc&&i.isStringSet(n.misc.osrc)&&(e={ourl:i.isStringSet(n.misc.ourl)?n.misc.ourl:"",osrc:n.misc.osrc,ourlE:n.misc.ourlE,osrcE:n.misc.osrcE}),e},getEncryptedReferer:function(){if(r.isParamInLocHashMisc("cref")){var e=decodeURIComponent(r.getParamFromLocHashMisc("cref"));return"&ecref="+encodeURIComponent(i.encryptValue(e))}return""},appendParamBeforeHash:function(e,r,n){return(e=e.split(/#(.*)/))[0]+"&"+r+"="+n+(i.isSet(e[1])?"#"+e[1]:"")},appendParamAfterHash:function(e,r,n){return(e=e.split(/#(.*)/))[0]+"#"+(i.isSet(e[1])?e[1]:"")+"&"+r+"="+n}}});_mNDefine("lochashutil",["util","metaparamutil","commonconstants","rtbsdatautil","domutil","l3receiver","serpLocHash"],function(o,t,e,u,s,r,i){"use strict";var a,c,n={},d={};function l(){return u.getRtbsBidStatus(e.RTBS.REFRESH_IMPRESSIONS)}function g(){var t=u.getRtbsBidStatus(e.RTBS.MATCH_STRING);o.isSet(t)&&(d.vgd_matchstr=t);var r=l();o.isSet(r)&&(d.vgd_refimp=r);t=u.getRtbsBidStatus(e.RTBS.REFRESH_CONFIG),r=o.isEmptyObject(t)?"":JSON.stringify(t);o.isStringSet(r)&&(d.vgd_refcnf=r);t=u.getRtbsBidStatus(e.RTBS.MNET_ADX_BUCKET_NAME);o.isStringSet(t)&&(d.axbx=t),r=d.twna||"0",s.isAnyParentSrcful(window)&&(t=S(),p()?r=t?"5":"2":o.isL3ParentNotAccessible()?r=t?"4":"3":t||(r="X")),d.vgd_ifrmode=(d.infr||"0")+r}function f(){var t=window.locHash||window.location.hash||"";return d=o.getParamValueFromUrlAsArray("?"+t.replace(/#/g,"&")),r.setData(d),o.each(["rtbsd"],function(t){u.setRtbsData(t,d[t])}),g(),v(d,{requrl:"1",cref:"1",katid:"1",katbid:"1",kals:"1",kalog:"1",kasts:"1",kapc:"1",clsKb:"1",kata:"1",web_view:"1",dyc:"1",dypgc:"1",dypc:"1",dynx:"1",l2ch:"1",l1ch:"1",l2ac:"1",l1ac:"1",infr:"1",twna:"1",l2wsip:"1",drtbs:"1",l2src:"1",stime:"1",startTime:1,dma:"1",l2type:"1",vgd_vsidv:"1",vstrid:"1",vgd_bdata:"1",vgd_sc:"1",l3c:"1",l3d:"1",l3l:"1",clp:"1",buid:"1",matchstring:"1",l1hcsd:"1",l2hcsd:"1",sethcsd:"1",vgd_uspa:"1",vgd_usps:"1",vgd_uspcs:"1",vgd_uspcss:"1"},n)}function v(i,a,c){var n="";return o.each(i,function(t,r){return void 0!==a[r]||(e=i,"bdrid"==(s=r).toLowerCase()&&u.isAdxBidder(e[s]))?(c&&(c[r]=i[r]),void delete i[r]):void(n+=["&",r,"=",i[r]].join(""));var e,s}),n}function m(t,r){return r=r||"",d[t]||r}function h(t,r){return r=r||"",n[t]||r}function p(){return 1==m("l2src")||1==h("l2src")}function S(){return 1==m("twna")||1==h("twna")}return{init:function(){a=f(),o.isStringSet(r.getL3DecisionParamValue("clkIdQs"))&&i.addParamtoSerpLocHash("clkId",r.getL3DecisionParamValue("clkIdQs"))},getLocHashString:function(){return a},getLocHashObject:function(){return d},isParamInLocHashObject:function(t){return m(t,!1)},getParamFromLocHashObject:m,getLocHashMisc:function(){return n},getLighterLocHash:function(){if(void 0===t.misc.exclp||!o.isStringSet(t.misc.exclp))return a;var s=a,i=t.misc.exclp.split(",");return o.each(i,function(t){var r,e;r=s,e=(e=i[t]).replace(/[\[\]]/g,"\\$&"),e=new RegExp("(&"+e+"=)([^&]+)"),s=r.replace(e,""),"vsid"===i[t]&&(c=!0)}),s},appendToLocHashString:function(t){a=a+"&"+t},isParamInLocHashMisc:function(t){return h(t,!1)},getParamFromLocHashMisc:h,getRefreshYBNCAImpFlag:l,shouldExcludeVsidFromCFM:function(){return c||!1},getLocHashToLog:function(){for(var t=["reflog","vsidtv"],r=v(o.getParamValueFromUrlAsArray("?"+a.replace(/#/g,"&")),{iowid:"1",adxbck:"1",dms:"1",acid:"1"}),e=0;e<t.length;e++)r=r.replace("&"+t[e]+"=","&vgd_"+t[e]+"=");return r},isL2inSourcefulIframe:p,isL1inSourcefulIframe:S,getWhiteListedLocHashMiscParamsToLog:function(){for(var t=["vgd_uspa","vgd_usps","vgd_uspcs","vgd_uspcss","vgd_sc"],r={},e=0;e<t.length;e++)o.isSet(n[t[e]])&&(r[t[e]]=n[t[e]]);return o.buildUrlParameters(r)}}});_mNDefine("commonparamutil",["util","eventlib","lochashutil","metaparamutil","commonconstants","rtbsdatautil"],function(e,r,o,s,d,u){"use strict";var t,i,c,a=window._mNL3&&window._mNL3.vi?window._mNL3.vi:"",n=window._mNL3&&window._mNL3.viComp?window._mNL3.viComp:"",m=window._mNL3&&window._mNL3.geoloc?window._mNL3.geoloc:"",g=!1,w=!1,f=!1,l=null,L=0,b=!1,N="no",_=[],S=0,p=[],I="",v=!1,y=[],P=!1;function h(){return a}function C(){if(e.isStringSet(s.misc.bdrId))return i="&subBdr="+o.getParamFromLocHashObject("sbdrId"),"&bdrid="+s.misc.bdrId+i;var n=u.getRtbsBidStatus(d.RTBS.WINNING_PROVIDER_BIDDER_ID)||"",t=u.getRtbsBidStatus(d.RTBS.SUB_BIDDER_ID)||"",i=t?"&subBdr="+t:"";return u.isYbncaBidder(n)?"&bdrid="+n+i:u.isYbncaBidder(o.isParamInLocHashObject("winProv"))?"&bdrid="+o.getParamFromLocHashObject("winProv")+"&subBdr="+o.getParamFromLocHashObject("subBdr"):""}function B(){return-1!=decodeURIComponent(s.misc.purl||"").indexOf("mnet_test")}return{getViewId:h,setViewId:function(n){a=n},getServerComputedViewId:function(){return n},getGeolocation:function(){return m},getVisitId:function(){var n="1000000001",t=o.getLocHashObject();return t?t.hvsid||(n="1000000003"):n="1000000002",t&&t.hvsid?t.hvsid:n},getVisitorId:function(n){var t="";return"undefined"!=typeof _mNVsid&&e.isStringSet(_mNVsid)&&(t=_mNVsid,n&&(t="&vsid="+t)),t},getBidderIdParam:C,getBidderIdForLogging:function(){if(e.isStringSet(s.misc.frbgem)){var n=o.getParamFromLocHashObject("sbdrId")?"&subBdr="+o.getParamFromLocHashObject("sbdrId"):"";return"&bdrid="+s.misc.frbgem+n}if(e.isStringSet(s.misc.frBdrId)){n=u.getRtbsBidStatus(d.RTBS.SUB_BIDDER_ID)||"",n=n?"&subBdr="+n:"";return"&bdrid="+s.misc.frBdrId+n}return C()},isWaitingForExternalKeywordsCall:function(){return g},setWaitForExternalKeywordsCall:function(n){g=n},isWaitingForExternalAdsCall:function(){return w},setWaitForExternalAdsCall:function(n){w=n},isFormatDisplayAfterLoadCalled:function(){return f},callingFormatDisplayAfterLoad:function(){f=!0},getFirstDisplayKeywordType:function(){return l},setFirstDisplayKeywordType:function(n){l=n},setAdReturnCount:function(n){L=n},getAdReturnCount:function(){return L},isTranferUrlTooLong:function(){return b},setTransferUrlAsTooLong:function(){b=!0},updateSiteLinkPresentStatus:function(n){N=n},getSiteLinkPresentStatus:function(){return N},addSiteLinkPosition:function(n){_.push(n)},getSiteLinkPositionsToLog:function(){return _.join("")},shouldLogSiteLinkPositions:function(){return 0<_.length},getKeywordShownCount:function(){return S},incrementKeywordShownCount:function(){S++},addToImageBlockedList:function(n){p.push(n)},getImageBlockedList:function(){return p.join("|")},addToKeywordList:function(n){I+=n},getKeywordList:function(){return I},isClientKbb:function(){var n=a,t=e.getParentObjectForMNDetails();return t&&t._mNDetails&&t._mNDetails[n]&&t._mNDetails[n].clKb?t._mNDetails[n].clKb:!!o.isParamInLocHashMisc("clskb")&&o.getParamFromLocHashMisc("clskb")},setWinningCollection:function(n,t,i){n&&r.triggerEventFromQueue(d.EVENTS.WINNING_COLLECTION_SET,{winningCollection:n,type:t,additionalLogParams:i})},getRequiredAdCount:function(){return s.requiredAdsCount},setAdChoicesClicked:function(n){v=n},isAdChoicesClicked:function(){return v},getASNumber:function(){return window._mNL3&&window._mNL3.esPar&&window._mNL3.esPar.asnum?window._mNL3.esPar.asnum:""},ignoreViewForAsn:function(){var n=s&&s.misc&&s.misc.ignViewForAsn&&s.misc.ignViewForAsn.split(",")||[],t=window._mNL3&&window._mNL3.esPar&&window._mNL3.esPar.asnum;return e.checkItemExistsInArray(n,t)},ignoreViewBasedOnFeature:function(){var n=e.getRandom(1,100),t=s.misc&&s.misc.igLpV||0;return 0<t&&n<=t},getStateCode:function(){return window&&window._mNL3&&window._mNL3._ip2allsc?window._mNL3._ip2allsc:""},getNodeServerIpAddress:function(){return t},setNodeServerIpAddress:function(n){e.isSet(n)&&(t=n)},getKbbMbParam:function(){var n="";return e.isStringSet(i)&&(n="&kmb="+encodeURIComponent(i)),n},setKbbMbIfNotSet:function(n){!e.isStringSet(i)&&e.isStringSet(n)&&(i=n)},setRAElementsForVisibility:function(n,t){t&&e.isSet(t.ra_id)&&y.push({element:n,id:t.ra_id})},getRAElementsForVisibility:function(){var n=y||[];return y=[],n},shouldHideYBNCA:function(){return u.isYbncaProvider()&&("1"===s.misc.hybn||"2"===s.misc.hybn)},allowOnlyGenericLoggingAfterHideYBNCA:function(){return u.isYbncaProvider()&&"2"===s.misc.hybn},shouldLogPageview:function(){var n;return void 0===c&&(n=e.getRandom(1,100),c=n<=s.lper||B()),c},getMnetOptOut:function(){return window._mNL3&&window._mNL3.mnetOptout?window._mNL3.mnetOptout:""},getCityName:function(){return window&&window._mNL3&&window._mNL3._ip2cty?window._mNL3._ip2cty:""},getLoggingPercent:function(){return B()?100:s.lper},getPrivacyFlags:function(){return"object"==typeof s.misc.privacy&&s.misc.privacy||{}},setKwdsUsedFromMacroFlag:function(){P=!0},getKwdsUsedFromMacroFlag:function(){return P},isRepeatedKeyword:function(n){return 1===n.rep}}});_mNDefine("rtbsdatautil",["util","metaparamutil","commonconstants"],function(a,d,n){"use strict";var i={};function c(){return i.rtbsd}function t(n){if(4==c())return"";var t,i,e="";try{i=("object"==typeof window.parent.winScope?window.parent.winScope:window.parent)._mNDetails}catch(n){}try{var r=window.frameId||null;r?t=r.replace("main","dy").replace(/_n$/g,"").replace(/_[0-9]*$/g,""):i&&d.meta.crid&&(t="_mN_dy_"+d.meta.crid),i&&i[t]&&(a.isSet(i[t][n])||a.isFunction(i[t][n]))&&(e=i[t][n])}catch(n){}return e}return{getRtbsBidStatus:t,setRtbsData:function(n,t){i[n]=t},isYbncaProvider:function(){return d.misc.ybncaBidderId&&-1!==d.misc.ybncaBidderId.indexOf("|"+t(n.RTBS.WINNING_PROVIDER_BIDDER_ID)+"|")},isNativeRAProvider:function(){return t(n.RTBS.WINNING_PROVIDER_BIDDER_ID)==n.BIDDER_INFO.NATIVE_RA_BIDDER_ID},getRtbsDisableReason:c,isYbncaBidder:function(n){var t=d.misc.ybncaBidderId||"";return""!==n&&t&&-1!==t.indexOf("|"+n+"|")},isAdxBidder:function(n){var t=d.misc.adxBidderId||"";return""!==n&&t&&-1!==t.indexOf("|"+n+"|")}}});_mNDefine("abputil",["util","lochashutil","commonparamutil","metaparamutil","eventlib"],function(n,c,i,d,r){"use strict";var o,p=!1,m=!1;return{getABPFlag:function(e,t){var a=function(e){if(void 0!==o&&1===o)return o;var t,a=!1;try{t=("object"==typeof window.parent.winScope?window.parent.winScope:window.parent)._mNDetails}catch(e){}var i=t&&t._mNABP||!1,r=0;return i&&d.abpl&&(r=0==i.checksRemain?(a=!i.error1&&i.error2?1:2,3):i.adBlockStatus?(a=i.adBlockStatus,1):(a=2,0),e||(e=!0,n.isStringSet(d.misc.exclp)&&-1!==d.misc.exclp.indexOf("tdAdd[]")&&(e=!1),e&&c.appendToLocHashString("tdAdd[]="+encodeURIComponent("|@|abp:"+r+":"+a)))),o=a}(t);return d.abpl&&a?(t=a,p||1===t&&"function"==typeof window.appendCustomHeader&&(window.appendCustomHeader(),p=!0),1==a&&function(e){try{1==(d.misc.hab||!1)&&0==m&&(t={logid:"kfk",evtid:"adpl",tp:(t=e)||"NULL",fp:d.meta.fp,cid:d.meta.cid,crid:d.meta.crid,requrl:d.misc.purl,chid:d.meta.chid,vi:i.getViewId(),ugd:d.meta.ugd,cme:d.meta.cme,cc:d.misc.country_code},t=hostLog+"/log?"+n.buildUrlParameters(t)+c.getLocHashToLog(),(new Image).src=t+"&r="+(new Date).getTime(),r.triggerParentEvent("hideAdFrames",i.getViewId(),!0,{viewId:i.getViewId(),type:"L3",L2:"1"}),m=!0)}catch(e){}var t}(a),1==a&&d.abpl&&(a=d.abpl),"val"===e?a:"&abpl="+a):""},getAbpStatus:function(){return o}}});_mNDefine("customsitesearch",["lochashutil","eventlib"],function(u,a){"use strict";function r(e,t,n){var i;void 0===e[t]?((i=document.createElement("input")).type="hidden",i.name=t,i.value=n,e.appendChild(i)):e[t].value=n}function f(e,t){var n=t.getElementsByTagName("input"),i=n.length,o="";if(0<i)for(var u=0;u<i;u++)n[u]&&n[u].type&&"text"==n[u].type.toLowerCase()&&(o+=n[u].value);if(""!=o)return r(t,"s",o),t.submit(),1;(e=e)&&e.preventDefault?e.preventDefault():window.event.returnValue=!1}function s(e,t){13==(e=e||window.event).keyCode&&f(e,t)}return{init:function(){var e,n,i=document.getElementsByClassName("_customsitesearch"),t=i.length,o=u.getLocHashObject();if(0<t)for(n=0;n<t;n++)if("form"==i[n].nodeName.toLowerCase()){for(e in r(i[n],"vsid","undefined"!=typeof _mNVsid&&0<_mNVsid.length?_mNVsid:""),o)util.each(o,function(e,t){r(i[n],t,e)});a.addEvent(i[n],"submit",function(t){return function(e){f(e,t)}}(i[n])),function(t){var e=t.getElementsByTagName("input"),n=e.length;if(0<n)for(var i=0;i<n;i++)e[i]&&e[i].type&&("text"==e[i].type.toLowerCase()&&a.addEvent(e[i],"keyup",function(e){s(e,t)}),"button"==e[i].type.toLowerCase()&&a.addEvent(e[i],"click",function(e){f(e,t)}))}(i[n])}}}});_mNDefine("adchoices",["eventlib","metaparamutil","loggingservice","util","commonparamutil","commonconstants"],function(r,s,e,f,i,g){"use strict";function h(){i.setAdChoicesClicked(!0),e.handleLogging()}return{init:function(e,i){var n=document.getElementById(s.misc.adchId);if(f.isSet(n)&&f.isStringSet(e)&&(n.href=e),i!=g.COLLECTION_TYPE.EXTERNAL)for(var t,c,a,d=document.getElementsByTagName("a"),m=d.length;m--;){var o=d[m];o&&o.href&&-1!=o.href.indexOf("/adchoices")&&(a=c=void 0,c=-1==((t=o).href||"").indexOf("?id="),a=!!(s&&s.misc&&s.misc.pk)&&s.misc.pk,c&&a&&(t.href+="?id="+a),r.addEvent(o,"click",h))}}}});_mNDefine("renderinghelper",["util","commonparamutil","eventlib","abputil","metaparamutil","domutil"],function(c,t,i,e,n,r){"use strict";function o(t,e){if(t)try{r.setIframeHeight(window,t),e&&(t=e),a({height:t}),r.setIframeHeight(window.parent,t)}catch(t){}}function a(t){try{var e=window._mNL3&&window._mNL3.vi?window._mNL3.vi:"";e&&t&&(t.height||t.width)&&(t.viewId=e,t.type="L3",t.L2="1",i.triggerParentEvent("alterAdFrameDimension",e,!0,t))}catch(t){}}return{formatDisplayAfterLoad:function(){try{"function"==typeof window.formatViewAfterLoad&&window.formatViewAfterLoad()}catch(t){}},formatDisplay:function(t){try{"function"==typeof window.formatview&&window.formatview(t)}catch(t){}},callFormatView:function(){try{"function"==typeof window.formatKeywordView&&window.formatKeywordView()}catch(t){}},changeAdFramesDimensions:a,adjustIframeHeightToBody:function t(){"1"==n.misc.adjIframe&&(i.addEvent(window,"resize",t),o(window.document.body.offsetHeight||window.document.body.clientHeight))},callLayer1CustomPostRendering:function(){try{var t=c.getLayer1WindowObject();if(!t)return;1!==e.getAbpStatus()&&t._mN.util.addToEventQueue("adBlockPlusDetected","gbl",function(){e.getABPFlag()}),t._mN&&t._mN._custom&&"function"==typeof t._mN._custom.postRendering&&t._mN._custom.postRendering(window)}catch(t){}},handleImageErrorCheck:function(t,e,i,n){var r,o,a=new Image;a.onload=(r=e,o=i,function(){1!=this.height||1!=this.width?r.src=t:-1!==r.src.indexOf("404_1X1")&&(c.isSet(n)||(o.className="hide"))}),a.onerror=function(){c.isSet(n)||(i.className="hide")},a.src=t},hideAdFrames:function(){try{i.triggerParentEvent("hideAdFrames",t.getViewId(),!0,{viewId:t.getViewId(),type:"L3",L2:"1"})}catch(t){}},displayTagOnLoggingStart:function(){n.misc.l3h&&o(n.misc.l3h,n.misc.l2h)},injectJsTracker:function(t){var e=t.get("jstracker");if(c.isStringSet(e)){var i=document.getElementsByTagName("head")[0],n=document.createElement("div"),r=document.createElement("script");try{n.innerHTML=e;var o=n.getElementsByTagName("script")[0];o&&(r.innerText=o.innerText||"",c.isStringSet(o.src)&&(r.src=o.src),r.setAttribute("type",o.type||"text/javascript"),i.appendChild(r))}catch(t){}}}}});_mNDefine("modeltransferservice",["util","nativeadmodel","collectionfactory","metaparamutil","commonconstants"],function(n,i,T,a,E){"use strict";function c(e,t){var r=new i;return r.set(i.Properties.TYPE,e.get(t.Properties.TYPE)).set(i.Properties.TITLE,e.get(t.Properties.TITLE)).set(i.Properties.DESCRIPTION,e.get(t.Properties.DESCRIPTION)).set(i.Properties.IMAGE,e.get(t.Properties.IMAGE)).set(i.Properties.ADVERTISER_NAME,e.get(t.Properties.SITE_HOST)).set(i.Properties.CLICK_URL,e.get(t.Properties.CLICK_URL)).set(i.Properties.LOGO,e.get(t.Properties.LOGO)||a.nativeMiscParams.ads&&a.nativeMiscParams.ads.logo||"").set(i.Properties.CALL_TO_ACTION,e.get(t.Properties.CALL_TO_ACTION)||a.nativeMiscParams.ads&&a.nativeMiscParams.ads.cta||"").set(i.Properties.MISC,e.get(t.Properties.MISC)||{}).setAllListeners(e.get(t.Properties.EVENT_MAP)),r}function p(e,t){var r,s=new i;return s.set(i.Properties.TYPE,e.get(t.Properties.TYPE)).set(i.Properties.TITLE,e.get(t.Properties.TITLE)).set(i.Properties.IMAGE,e.get(t.Properties.IMAGE)).set(i.Properties.CLICK_URL,e.get(t.Properties.CLICK_URL)).set(i.Properties.CALL_TO_ACTION,e.get(t.Properties.CALL_TO_ACTION)||a.nativeMiscParams.kwds&&a.nativeMiscParams.kwds.cta||"").set(i.Properties.DESCRIPTION,e.get(t.Properties.DESCRIPTION)||(r=a.nativeMiscParams.kwds&&a.nativeMiscParams.kwds.desc,n.isArray(r)&&0!=r.length?r[n.getRandom(0,r.length-1)]:"")).set(i.Properties.ADVERTISER_NAME,a.nativeMiscParams.kwds&&a.nativeMiscParams.kwds.dom||"").set(i.Properties.LOGO,a.nativeMiscParams.kwds&&a.nativeMiscParams.kwds.logo||"").setAllListeners(e.get(t.Properties.EVENT_MAP)),s}return{transferModel:function(e,t,r){switch(t+"-"+r){case E.COLLECTION_TYPE.ADS+"-"+E.COLLECTION_TYPE.NATIVE:return a=e,o=_mNRequire(["admodel"])[0],P=T.getRelatedArticlesCollection(),n.each(a,function(e){P.add(c(e,o))}),P;case E.COLLECTION_TYPE.KEYWORDS+"-"+E.COLLECTION_TYPE.NATIVE:return a=e,s=_mNRequire(["keywordmodel"])[0],i=T.getKeywordAdCollection(),n.each(a,function(e){i.add(p(e,s))}),i}var s,i,a,o,P}}});_mNDefine("renderingadapter",["modeltransferservice","adchoices","commonconstants","metaparamutil"],function(t,i,o,c){"use strict";return{renderTag:function(e){var r=e.winningCollection,n=e.type,e=_mNRequire(["nativecmrenderer"])[0];n==o.COLLECTION_TYPE.EXTERNAL?(i.init(r.getProperty(r.Properties.ADCHOICES_URL),n),e.renderAdCollection(r)):(i.init(c.misc.defAdch,n),e.renderAdCollection(t.transferModel(r,n,o.COLLECTION_TYPE.NATIVE)))}}});_mNDefine("nativeadmodel",["util"],function(s){"use strict";function t(){var n={},e={};this.get=function(t){return n[t]},this.addEventListener=function(t,i){s.isSet(t)&&s.isFunction(i)&&(e[t]=e[t]||[],e[t].push(i))},this.setAllListeners=function(t){s.isEmptyObject(t)||(e=t)},this.getEvents=function(){return e},this.print=function(){},this.set=function(t,i){return n[t]=i,this}}return t.Properties={TYPE:"type",TITLE:"title",DESCRIPTION:"desc",IMAGE:"img",ADVERTISER_NAME:"adv_name",CLICK_URL:"link",LOGO:"logo",CALL_TO_ACTION:"cta",DISPLAY_URL:"displayurl",DESCRIPTION_2:"desc2",PRICE:"price",MISC:"misc",JS_TRACKER:"jstracker"},t});_mNDefine("nativecmrenderer",["util","eventlib","nativeadmodel","renderinghelper","domutil","commonconstants","metaparamutil","commonparamutil"],function(l,r,c,d,o,g,n,p){"use strict";var e="nativeunit",t="hide",m={title:"title-link",description:"body-link",image:"image-link",logo:"logo-link",advertiser:"advertiser-link",callToAction:"call-to-action-link",displayUrl:"display-url-link",description2:"desc2-link",price:"price-link"},u={title:"title",description:"body",image:"image",logo:"logo",advertiser:"advertiser",callToAction:"call-to-action",displayUrl:"display-url",description2:"desc2",price:"price"};function s(){return l.getChildElemByClass(document,e,"div")}function T(e){e.className+=" "+t}function E(i,e){moduleFactory.browserHinter.isResolved()&&moduleFactory.browserHinter.setupConnectionHints(i),moduleFactory.conversionPixelController.isResolved()&&moduleFactory.conversionPixelController.registerElementForClickConversion(i);e=e.getEvents();l.isEmptyObject(e)||l.each(e,function(e,t){l.each(e,function(e){l.isFunction(e)&&r.addEvent(i,t,e)})})}function P(e){moduleFactory.keywordClickTargetModifier.isResolved()&&moduleFactory.keywordClickTargetModifier.changeTargetTopBasedOnUA(e)}function v(e,t){var i=t.get(c.Properties.CLICK_URL);return t.get(c.Properties.TYPE)==g.AD_TYPES.KEYWORDS&&(t=e,e=i,t=o.getTargetOfElementForLogging(t),l.isStringSet(t)&&(e=l.prependAsFirstQueryParamInUrl(e,"ktr",t)),i=e),i}function y(e,t,i,r){var o=e.getElementsByTagName("a")[0];l.isSet(o)&&(l.isSet(i.get(r))?(P(o),o.href=v(o,i),E(o,i),o.className===t&&(o.innerHTML=i.get(r)||""),i.get(c.Properties.TYPE)==g.AD_TYPES.KEYWORDS&&t==m.title&&S(o,i.get(c.Properties.TITLE),"title")):T(e))}function k(e,t,i,r){var o,n,s,a=e.getElementsByTagName("a")[0];l.isSet(a)&&(n=(o=a.getElementsByTagName("img")[0])&&o.getAttribute("src")||"",l.isSet(i.get(r))||l.isSet(n)?(P(a),a.href=v(a,i),E(a,i),s=i.get(r)||n,a.className===t&&l.isSet(o)&&l.isStringSet(s)&&(r===c.Properties.IMAGE?d.handleImageErrorCheck(s,o,e,n):o.src=s,i.get(c.Properties.TYPE)==g.AD_TYPES.KEYWORDS&&t==m.image&&(S(o,i.get(c.Properties.TITLE),"title"),S(o,i.get(c.Properties.TITLE),"alt")))):T(e))}function S(e,t,i){n.misc.kwdTl&&(e[i]=t)}function a(e,a){var t,i;t=e,i=(i=a).get(c.Properties.TYPE),l.isStringSet(i)&&o.addClass(t,i);e=e.getElementsByTagName("div");0!==e.length&&l.each(e,function(e){var t,i,r,o,n,s;switch(e.className){case u.title:s=a,y(n=e,m.title,s,c.Properties.TITLE),p.setRAElementsForVisibility(n,s.get(c.Properties.MISC));break;case u.description:o=a,y(e,m.description,o,c.Properties.DESCRIPTION);break;case u.advertiser:o=a,y(e,m.advertiser,o,c.Properties.ADVERTISER_NAME);break;case u.callToAction:r=a,y(e,m.callToAction,r,c.Properties.CALL_TO_ACTION);break;case u.image:r=a,k(e,m.image,r,c.Properties.IMAGE);break;case u.logo:i=a,k(e,m.logo,i,c.Properties.LOGO);break;case u.displayUrl:i=a,y(e,m.displayUrl,i,c.Properties.DISPLAY_URL);break;case u.description2:t=a,y(e,m.description2,t,c.Properties.DESCRIPTION_2);break;case u.price:t=a,y(e,m.price,t,c.Properties.PRICE);break;default:return}})}return{renderAdCollection:function(i){var e=s();l.isSet(i)&&0!==e.length&&(e=Array.prototype.slice.call(e),l.each(e,function(e,t){t=i.get(t);l.isSet(t)&&a(e,t)}))},getAdsCount:function(){var e=s();return l.isArray(e)&&0<e.length?e.length:0}}});_mNDefine("keywordblocker",["util","metaparamutil","eventlib","domutil","commonparamutil"],function(c,o,l,e,t){"use strict";var u,a={},w=["112","110"],k=4;function r(e,t,r,n){var i,d="|",s="";l.addEvent(window,"beforeunload",function(){n(e)}),a.shouldBlockKeywordOverridden=function(o){return null!=i&&null!=i||(i=r(e)||""),!!(i&&-1<i.indexOf(o.toLowerCase()+d))&&(s+=o+d,!0)},a.addKeywordToBlockListOverridden=function(o,e){i+=o.toLowerCase()+d,u=e},a.storeBlockListOverridden=function(){var o=i.split(d).length-1;c.addVgData("bkwds",s),c.checkItemExistsInArray(w,""+u)&&k<o?n(e):t(e,i)}}function n(o,e){try{window.top[o]=e}catch(o){}}function i(o){try{return window.top[o]||""}catch(o){}return""}function d(o){try{window.top[o]=""}catch(o){}}return{shouldBlockKeyword:function(o){return!(!a.shouldBlockKeywordOverridden||!c.isFunction(a.shouldBlockKeywordOverridden))&&a.shouldBlockKeywordOverridden(o)},addKeywordToBlockList:function(o,e){a.addKeywordToBlockListOverridden&&c.isFunction(a.addKeywordToBlockListOverridden)&&a.addKeywordToBlockListOverridden(o,e)},storeBlockList:function(){a.storeBlockListOverridden&&c.isFunction(a.storeBlockListOverridden)&&a.storeBlockListOverridden()},init:function(){1===o.misc.enKwdBlk&&(e.isTopMostWindowAccessible()?r("_mN_bl",n,i,d):e.isSessionStorageSupported()&&!c.isStringSet(t.getMnetOptOut())&&r("_mN_block_kwds",e.setItemInSessionStorage,e.getItemFromSessionStorage,e.removeItemFromSessionStorage))}}});_mNDefine("keywordmodel",[],function(){"use strict";function r(){var i={};i[r.Properties.EVENT_MAP]={},this.addToEventMap=function(t,e){i[r.Properties.EVENT_MAP][t]=i[r.Properties.EVENT_MAP][t]||[],i[r.Properties.EVENT_MAP][t].push(e)},this.get=function(t){return i[t]},this.set=function(t,e){return i[t]=e,this},this.print=function(){}}return r.Properties={TYPE:"type",KEYWORD_TYPE:"kwd_type",TITLE:"title",POSITION:"pos",IMAGE:"img",CLICK_URL:"link",CALL_TO_ACTION:"cta",EVENT_MAP:"evt_map",DESCRIPTION:"desc"},r});_mNDefine("keywordcommonparams",["util","metaparamutil","commonparamutil"],function(t,e,n){"use strict";var r=0,i="",o=!1;return{getCurrentKeywordAddedCount:function(){return r},incrementCurrentKeywordAddedCount:function(){r++},getKbbImageSize:function(){return t.isArray(e.kbbImageSize)?e.kbbImageSize.shift()||"":e.kbbImageSize},setAttachList:function(t){i=t},getAttachList:function(){return i},setKeywordShownFlag:function(t){o=t},getKeywordShownFlag:function(){return o},getLandingPageKeywordStrategyUsed:function(){return n.getKwdsUsedFromMacroFlag()?"999":e.misc&&e.misc.lpKsu||""}}});_mNDefine("behaviouralkeywordutil",["metaparamutil","commonparamutil","loggingservice","keywordrandomizer","keywordcommonparams"],function(n,o,d,t,r){"use strict";function i(e){e.r&&(n.keywords=e.r),e.kpd&&(o.addToMiscLoggingParams(["&lkpgd=",encodeURIComponent(e.kpd)].join("")),r.setAttachList(["&lkpgd=",encodeURIComponent(e.kpd),"&",r.getAttachList()].join(""))),t.kwdRandmzn()}return{getBehaviouralKwds:function(){if("undefined"==typeof bKwdMode||!window._mNBh||"function"!=typeof _mNBh.getBHK||"function"!=typeof window._mNBh.setBHK)return!1;var e=function(){for(var e=document.getElementsByTagName("a"),n=e.length,o=0,d=0;o<n;){var t=e[o++];t.id&&-1!=t.id.indexOf("dk")&&d++}return d}();return"1"==bKwdMode?(window._mNBh.setBHK({kwds:n.keywords,kpd:n.misc.kpd||"",purl:n.misc.purl||"",c:e}),!1):(d.setWaitForExternalKeywordsCall(!0),window._mNBh.getBHK({kwds:n.keywords,cb:i,kpd:n.misc.kpd||"",purl:n.misc.purl||"",c:e}),!0)}}});_mNDefine("keywordobjectbuilder",["util","metaparamutil","lochashutil","l3receiver","commonparamutil","keywordmodel","keywordcommonparams","collectionfactory","abputil","urlutil","commonconstants","loggingservice","overridekwclickhost","serpLocHash"],function(g,p,u,s,k,S,h,r,c,d,f,m,l,w){"use strict";var i;function y(){return g.isStringSet(p.misc.kwdArbUrl)}function a(e,t){var r="",i=g.isStringSet(e.encMacro)?g.getQueryParamString("em",e.encMacro):"",n=e.et;return t=function(e,t){P(e)&&(t=e.xt);return t}(e,t),g.isStringSet(n)?(n=P(e)&&e.ext||e.et,r=["/search.cfm?",g.getQueryParamString("cq",n),i].join(""),g.isStringSet(p.misc.spkwd)&&"1"===p.misc.spkwd&&(r+=g.getQueryParamString("pq",t)),r):["/",encodeURIComponent(encodeURIComponent(t.replace(/ /g,"_"))),".cfm?"].join("")}function P(e){return g.isStringSet(e.xt)}function I(e,t,r){var i,n=u.getLighterLocHash(),o=s.getL3DecisionParamValue("kwchost"),n=[e=l.getReplacementHost(e,t,o),(t=a(i=t,e=o=r),o=r="","undefined"!=typeof _mNVsid&&(r+="&vsid="+_mNVsid),P(i)&&(o="&okt="+g.encryptValue(e)),u.shouldExcludeVsidFromCFM()&&(r=""),[t,o,r,"&vi=",k.getViewId(),"&kbc=",encodeURIComponent(i.b||""),k.getBidderIdParam(),"&kt=",encodeURIComponent(i.ty||""),"&ki=",encodeURIComponent(i.i||""),"&ktd=",encodeURIComponent(i.td||""),"&kbc2=",encodeURIComponent(i.b2||""),k.getKbbMbParam(),"&fdkt=",encodeURIComponent(k.getFirstDisplayKeywordType()||"")].join("")),h.getAttachList(),n].join("");return 1!=p.misc.isSerpRedirectionForCookieRequired||"undefined"!=typeof _mNVsid||""!=k.getMnetOptOut()?n+"&":[p.misc.cookieSetRedirectionHostName,"d=",encodeURIComponent(n)].join("")}function b(e){var r,t,i,n="",o=e.t;y()?(r=p.misc.kwdArbUrl,t=o,i=p.misc.kwdArbQr,r=r+"?"+g.getQueryParamString("q",t),g.each(i,function(e,t){r+=g.getQueryParamString(t,e)}),n=r,n+=function(e,t){var r,i="";for(r in e)if(g.isStringSet(e[r]))i+=g.getQueryParamString(r,e[r]);else switch(r){case"kurl":u.isParamInLocHashObject("kurl")&&(i+=g.getQueryParamString("kurl",u.getParamFromLocHashObject("kurl")));break;case"kt":t&&t.ty&&(i+=g.getQueryParamString("kt",t.ty))}return i}(p.misc.kwdArbMcr,e)):(n=I(hostName,e,o),g.isStringSet(k.getStateCode())&&(n+="&sc="+k.getStateCode()),a=h.getLandingPageKeywordStrategyUsed(),g.isSet(a)&&(n+="&oksu="+a),g.isStringSet(s.getL3DecisionParamValue("kwchost"))&&(n+="&mcp=1"),n+=c.getABPFlag(),n+="&asn="+k.getASNumber(),n+=function(){var e="";u.isParamInLocHashMisc("kals")&&(e+=u.getParamFromLocHashMisc("kals")),u.isParamInLocHashMisc("kalog")&&(e+=u.getParamFromLocHashMisc("kalog")),u.isParamInLocHashMisc("kasts")&&(e+=u.getParamFromLocHashMisc("kasts")),u.isParamInLocHashMisc("kata")&&(e+=u.getParamFromLocHashMisc("kata"));var t=k.isClientKbb();return t&&(e+="&clsKb="+t),e}(),n+=d.getEncryptedReferer(),(a=d.getCanonicalUrlObject())&&(n+="&ourl="+encodeURIComponent(a.ourlE)+"&osrc="+encodeURIComponent(a.osrcE)));var a=s.getL3DecisionParamValue("fgbr");g.isNumeric(a)&&(a=1==a?"1":"0",n=g.prependAsFirstQueryParamInUrl(n,"fgbr",a));a=s.getL3DecisionParamValue("kClkUP");g.isStringSet(a)&&(n+="&kclkp="+a);a=s.getL3DecisionParamValue("ckcvi");g.isStringSet(a)&&(n+="&ckcvi="+a),e.bp&&(n=g.prependAsFirstQueryParamInUrl(n,"kbp",g.encryptValue(e.bp))),1==p.misc.yuFix&&(n=n.replace(/(.*)?(\?\&)(.*)/,"$1?$3")),k.isRepeatedKeyword(e)&&(n+="&rptKwd=1"),1==p.misc.dispt&&g.isStringSet(e.dt)&&(n+="&kdsti="+encodeURIComponent(e.dtId)),g.isStringSet(e.desc)&&(n+="&kdsci="+encodeURIComponent(e.dId)),1!=p.misc.serpRct||g.isReplaceStateSupported()||(n=g.prependAsFirstQueryParamInUrl(n,"srprc","0"));e=l.getNaturalSerpDomainToLog(e);return g.isStringSet(e)&&(n+="&nsd="+e),n+=function(){var e="";try{e="&bd="+encodeURIComponent(C.getURLBrowserData())}catch(e){}return e}(),n+=m.pipeline.getLogQueryStringForClickUrl(),n=g.prependStringBeforeQueryParamsInUrl(n,m.pipeline.getPrependLogQueryStringForClickUrl()),p.misc&&1===p.misc.lpua&&(n+="&lpua="+encodeURIComponent(window.navigator.userAgent)),n+=w.getSerpLocHashString()}var e,C=(e="",{getURLBrowserData:function(){return""==e&&(e=((new Date).getTimezoneOffset()/60*-1).toString()+"#"+window.screen.height+"#"+window.screen.width),e}});function v(e){var t=e.target||e.srcElement;u.isParamInLocHashObject("kurl")&&(e=decodeURIComponent(u.getParamFromLocHashObject("kurl")),t&&t.href&&g.isStringSet(t.href)&&0!==t.href.indexOf(e)&&(t.href=e+encodeURIComponent(t.href)))}function L(e){if(this&&"string"==typeof this.href){var t=["width="+screen.width||500,"height="+screen.height||500,"left=0","top=0","scrollbars=yes","toolbar=yes","location=yes","personalbar=yes","status=yes","resizable=yes","titlebar=yes"],r="AdClick"+(new Date).getTime(),i=window.open(this.href,r,t.join(","));if(null!==i){try{i.moveTo&&i.moveTo(0,0)}catch(e){}if(!(e=e||window.event)||!e.preventDefault)return window.event.returnValue=!1;e.preventDefault()}}}function R(){var e="",t=g.getLayer1WindowObject();p.meta.crid&&g.isStringSet(p.meta.crid)&&(e=p.meta.crid),t&&e&&t._mNDetails&&t._mNDetails.mMclickTracker&&t._mNDetails.mMclickTracker[e]&&g.isStringSet(t._mNDetails.mMclickTracker[e])&&(t=decodeURIComponent(t._mNDetails.mMclickTracker[e]),e=encodeURIComponent(hostLog+"/log?&test"),e=t+e,e=(new CreateFrame).set("marginWidth",0).set("marginHeight",0).set("scrolling","no").set("frameBorder",0).set("height",0).set("width",0).set("src",e).overrideStyle("display:none !important;").done(),document.body.appendChild(e))}function _(e){var t="",r=e.target||e.srcElement,e=g.getLayer1WindowObject();p.meta.crid&&g.isStringSet(p.meta.crid)&&(t=p.meta.crid),e&&t&&e._mNDetails&&e._mNDetails[t]&&e._mNDetails[t]._log_hash&&g.isStringSet(e._mNDetails[t]._log_hash)&&(e=e._mNDetails[t]._log_hash,r&&r.href&&g.isStringSet(r.href)&&(t=r.href.replace(/&log_hash=.*?(&|#|$)/,"$1"),r.href=d.appendParamBeforeHash(t,"log_hash",e)))}function T(e){var t=e.target||e.srcElement;t&&t.href&&g.isStringSet(t.href)&&(e=t.href.replace(/&kct=.*?(&|#|$)/,"$1"),t.href=d.appendParamBeforeHash(e,"kct",g.clock.getTime(f.TIME.KEYWORDS_LOAD_TIMESTAMP)))}function U(e){var t=e.target||e.srcElement;t&&t.href&&g.isStringSet(t.href)&&(e=t.href.replace(/&abpl=.*?(&|#|$)/,"$1"),t.href=d.appendParamBeforeHash(e,"abpl",c.getABPFlag("val",!0)))}function n(e,t){var r,i,n,o,a,s,c,d,m,l=new S;return l.set(S.Properties.TYPE,f.AD_TYPES.KEYWORDS).set(S.Properties.KEYWORD_TYPE,e.ty).set(S.Properties.TITLE,(c=e.t,s=e.dt,g.isStringSet(s)&&(c=s),"1"===p.misc.hstf&&(c="# "+c),c)).set(S.Properties.POSITION,t).set(S.Properties.IMAGE,function(e){if(!g.isStringSet(e))return"";var t=h.getKbbImageSize();return g.isStringSet(t)?e.replace("[[kbb-img-size]]",t):-1!=e.indexOf("[[kbb-img-size]]")?"":e}(e.ipath)).set(S.Properties.DESCRIPTION,e.desc).set(S.Properties.CLICK_URL,b(e)).set(S.Properties.CALL_TO_ACTION,""),d=l,window._mNL3&&window._mNL3._serpNewWindow&&d.addToEventMap("click",L),y()||(d.addToEventMap("mouseover",T),d.addToEventMap("click",T),d.addToEventMap("click",U),p.misc.iskwdClkTrck&&u.isParamInLocHashObject("kurl")&&d.addToEventMap("click",v),p.misc.isLandingRetargetApi&&(d.addToEventMap("mouseover",_),d.addToEventMap("click",_),d.addToEventMap("click",R)),(m=g.getLayer1WindowObject())&&m._mN&&m._mN._custom&&"function"==typeof m._mN._custom.onClickCustomCallback&&d.addToEventMap("click",m._mN._custom.onClickCustomCallback)),r=l,i=e.b,n=e.i,o=e.b2,a=e.td,s=e.dt,c=e.t,t=e.dtId,d=e.xt,m=e.desc,e=e.dId,k.addToKeywordList(["&kwd[]=",encodeURIComponent(c),"&kwt[]=",r.get(S.Properties.KEYWORD_TYPE),"&kbc[]=",encodeURIComponent(i),"&kwp[]=",r.get(S.Properties.POSITION),"&kid[]=",n,"&kbc2[]=",encodeURIComponent(o),"&ktd[]=",a].join("")),1==p.misc.dispt&&g.isStringSet(s)&&k.addToKeywordList("&kdsti[]="+encodeURIComponent(t)),g.isStringSet(d)&&k.addToKeywordList("&ktrkt[]="+encodeURIComponent(d)),g.isStringSet(m)&&k.addToKeywordList("&kdsci[]="+encodeURIComponent(e)),l}return{createKeywordCollection:function(e){i=r.getGenericCollection();for(var t=0;t<e.length;t++)i.add(n(e[t],t)),k.incrementKeywordShownCount()},getKeywordCollection:function(){if(i)return i.getAll()}}});_mNDefine("keywordrandomizer",["util","eventlib","commonparamutil","keywordblocker","metaparamutil","keywordcommonparams","keywordobjectbuilder","renderinghelper","loggingservice"],function(i,d,c,a,l,p,o,s,m){"use strict";var u,w=[],f="";function g(e,t){!function(e,t){try{1==(l.misc.hoke||!1)&&(n=t,r=(r=e)||"NULL",o=[],i.each(n,function(e,t){t=encodeURIComponent(t),e=encodeURIComponent(e);e&&o.push("k_"+t+"="+e)}),r=hostLog+"/log?logid=kfk&evtid=kier&tp="+r+"&fp="+l.meta.fp+"&cme="+l.meta.cme+"&"+o.join("&"),(new Image).src=r+"&r="+(new Date).getTime(),d.triggerParentEvent("hideAdFrames",c.getViewId(),!0,{viewId:c.getViewId(),type:"L3",L2:"1"}))}catch(e){}var r,n,o}(e+"pc",t)}function y(e){var t=[{macro:"[[visitor-location]]",replacement:window.repLoc||"",encrypted:window.el||""},{macro:"[[visitor-city]]",replacement:window.repCty||"",encrypted:window.ec||""},{macro:"[[visitor-state]]",replacement:window.repState||"",encrypted:window.es||""}];if(-1===e.indexOf("[["))return{text:e};for(var r=0,n=t.length;r<n;r++)if(-1!=e.indexOf(t[r].macro))return""!==t[r].replacement?{text:e.replace(t[r].macro,t[r].replacement),encryptedMacro:t[r].encrypted}:-1;return-1!=e.indexOf("[[")?-1:void 0}function h(e){if(!e||!e.t)return!1;var t=y(e.t),r=y(e.dt||""),n=y(e.xt||""),o=y(e.desc||"");return-1!==t&&!a.shouldBlockKeyword(t.text)&&((!i.isStringSet(e.ipath)||!function(e){if(1===l.misc.enImgBlk){var t=e.indexOf("?");0<=t&&(e=e.slice(0,t));e=e.split("/"),e=e[e.length-1];if(-1!==f.indexOf("|"+e+"|"))return c.addToImageBlockedList(e),1;f+="|"+e+"|"}}(e.ipath))&&(112===e.ty&&l.misc.hoke?(g("kw",e),!1):(c.isRepeatedKeyword(e)&&i.addVgData("rptKwd",1),1===e.skipLg&&(c.setKwdsUsedFromMacroFlag(),m.pipeline.addPairToPipeline("mc_kwds",1)),null==c.getFirstDisplayKeywordType()&&c.setFirstDisplayKeywordType(e.ty),c.setKbbMbIfNotSet(e.mb),i.isStringSet(t.encryptedMacro)&&(e.encMacro=t.encryptedMacro),e.t=t.text,e.dt=-1!==r&&r.text||"",e.xt=-1!==n&&n.text||"",e.desc=-1!==o&&o.text||"",e)))}function v(e){for(var t,r,n=c.getRequiredAdCount(),o=e.k;0<o.length;)if(r=i.getRandom(0,o.length),t=h(o[r]),o.splice(r,1),t&&(r=t,w.push(r),a.addKeywordToBlockList(t.t,t.ty),p.incrementCurrentKeywordAddedCount(),p.getCurrentKeywordAddedCount()==n))return a.storeBlockList(),!0;return!1}function e(){if(0!==(u=l.keywords).length&&!0!==p.getKeywordShownFlag()){c.setWaitForExternalKeywordsCall(!1),p.setKeywordShownFlag(!0),s.callFormatView();for(var e=0;e<u.length;e++){var t=function(e){var t=i.getRandom(1,100),r=0;if(!u[e])return-1;for(var n=0;n<u[e].length;n++){if(t<u[e][n].p+r)return n;r+=u[e][n].p}return n-1}(e);if(!(t<0)&&u[e][t])for(var r=u[e][t].bg,n=0;n<r.length;n++)if(v(r[n]))return void o.createKeywordCollection(w)}}}return{init:function(){a.init()},randomizeAndGetCollection:function(){return e(),o.getKeywordCollection()}}});_mNDefine("keywordhandler",["util","eventlib","commonparamutil","lochashutil","loggingservice","keywordrandomizer","metaparamutil","behaviouralkeywordutil","keywordcommonparams","commonconstants","modulefactory"],function(e,a,o,r,n,i,d,s,c,l,t){"use strict";var w=!1,m=null,g=null;function u(){var t;!0!==c.getKeywordShownFlag()&&(p(),E()?((t=g).r.push(d.keywords[d.keywords.length-1]),d.keywords=t.r,d.misc.kpd=t.kpd||"",t.ktd&&(n.addToMiscLoggingParams(["&lktgd=",encodeURIComponent(t.ktd)].join("")),c.setAttachList(["&lktgd=",encodeURIComponent(t.ktd),"&",c.getAttachList()].join(""))),s.getBehaviouralKwds()||(t.kpd&&(n.addToMiscLoggingParams(["&lkpgd=",encodeURIComponent(t.kpd)].join("")),c.setAttachList(["&lkpgd=",encodeURIComponent(t.kpd),"&",c.getAttachList()].join(""))),y(),t=e.clock.getTime("kwdRandStartTime"),e.addVgData("ckkr","1"),e.addVgData("ckadt",t))):k())}function p(){!1===w&&(e.clock.tick("kwdRandStartTime"),w=!0)}function k(){var t,e,n,i;!0!==c.getKeywordShownFlag()&&(p(),t=50,e=parseInt(d.meta.kwdsMaxTm,10)||400,n=r.getParamFromLocHashObject("sttm",0),i=r.getParamFromLocHashObject("dytm",0),i=+(e-(parseInt(i,10)-parseInt(n,10)+((new Date).getTime()-parseInt(i,10)))),isFinite(i)&&50<i&&(t=i),m=setTimeout(function(){(E()?u:K)()},t))}function E(){try{return null!==g||function(){if(!e.isL3ParentNotAccessible()){if(window.parent&&window.parent._mNExtKwds&&window.parent._mNExtKwds[o.getViewId()])return g=window.parent._mNExtKwds[o.getViewId()],1;if(window.parent&&window.parent.parent&&window.parent.parent._mNExtKwds&&window.parent.parent._mNExtKwds[o.getViewId()])return g=window.parent.parent._mNExtKwds[o.getViewId()],1}return}()}catch(t){return}}function h(){o.isWaitingForExternalKeywordsCall()&&(o.setWaitForExternalKeywordsCall(!1),u())}function v(t){var e;try{e=JSON.parse(t.data)}catch(t){e={}}if(e.token==o.getViewId())switch(e.key){case"kbbKeywordSet":if(!0===c.getKeywordShownFlag()||!1===o.isWaitingForExternalKeywordsCall())return;g=e.value,h();break;case"trigger-l3-event":var n=e.value,i=l.EVENTS.TRIGGER_SOURCEFUL_L3_EVENT_PREFIX+n.type;a.triggerEventFromQueue(i,n.params)}}function K(){var t;!0!==c.getKeywordShownFlag()&&(t=e.clock.getTime("kwdRandStartTime"),e.addVgData("ckkr","0"),e.addVgData("ckadt",t),s.getBehaviouralKwds()||y())}function y(){o.setWinningCollection(i.randomizeAndGetCollection(),l.COLLECTION_TYPE.KEYWORDS)}return{init:function(){var t,n;e.isL3ParentNotAccessible()&&(a.addEvent(window,"message",v),a.triggerParentEvent("L3SourcefulSYN",o.getViewId(),!0,{}),a.triggerParentEvent(l.EVENTS.GENERIC_L3_SOURCEFUL_SYN,o.getViewId(),!0,{delay:1})),!1!==o.isClientKbb()&&(e.isL3ParentNotAccessible()||(t=e.getParentObjectForMNDetails())&&t._mNDetails&&t._mNDetails.addToEventQueue&&t._mNDetails.addToEventQueue("sendmNExtKwdsToL3",o.getViewId(),h)),n={oRurl:"1"},1===d.misc.rEnD&&(n.cid="1",n.crid="1",n.size="1"),void 0!==d.misc.exclp&&isStringSet(d.misc.exclp)&&(t=d.misc.exclp.split(","),e.each(t,function(t){n[t]="1"})),e.each(d.meta,function(t,e){void 0===n[e]&&c.setAttachList([c.getAttachList(),"&",e,"=",t].join(""))}),window.mnCts&&""!==window.mnCts&&c.setAttachList([c.getAttachList(),"&rms=",window.mnCts].join("")),i.init()},loadKeywords:function(){var t;((t=o.isClientKbb())&&"0"!==t?(o.setWaitForExternalKeywordsCall(!0),(e.isL3ParentNotAccessible()?k:u)(),1):s.getBehaviouralKwds())||y()},handleKbbTimeoutNoResponse:K,handleKbbTimeout:function(){var t=e.getLayer1WindowObject();o.isClientKbb()&&(t&&t.waitForInslDisp&&!1===t.waitForInslDisp[d.meta.crid]||t&&t.waitForEInsl&&!1===t.waitForEInsl[d.meta.crid])&&(clearTimeout(m),K())}}});_mNDefine("adcommonparams",["metaparamutil","commonparamutil"],function(n,t){"use strict";var e=null,u=0;return{setLeftOverAdCount:function(n){e=n},getLeftOverAdCount:function(){return null==e?t.getRequiredAdCount():e},getAdPosition:function(){return u},incrementAdPosition:function(){u++},getCurrentAdShownCount:function(){return t.getRequiredAdCount()-e}}});_mNDefine("adapiurlbuilder",["util","lochashutil","abputil","commonparamutil","metaparamutil"],function(i,a,r,e,t){"use strict";return{getFapiDirectAdsUrl:function(){var a=t.ndAdParams;return a.apiCallParams.vi=e.getViewId(),i.percBasedValueSelect(a.fapiDaHostConf)+"/da.js?"+i.buildUrlParameters(a.apiCallParams)}}});_mNDefine("admodel",["util"],function(n){"use strict";function s(){var e={};e[s.Properties.EVENT_MAP]={},this.addToEventMap=function(t,i){n.isSet(t)&&n.isFunction(i)&&(e[s.Properties.EVENT_MAP][t]=e[s.Properties.EVENT_MAP][t]||[],e[s.Properties.EVENT_MAP][t].push(i))},this.get=function(t){return e[t]},this.set=function(t,i){return e[t]=i,this},this.print=function(){}}return s.Properties={TYPE:"type",POSITION:"pos",RANK:"rank",TITLE:"title",DESCRIPTION:"desc",IMAGE:"img",SITE_HOST:"site_host",CLICK_URL:"link",LOGO:"logo",CALL_TO_ACTION:"cta",EVENT_MAP:"evt_map",MISC:"misc"},s});_mNDefine("adobjectbuilder",["util","admodel","collectionfactory","metaparamutil","lochashutil","abputil","commonparamutil","urlutil","loggingservice","adcommonparams","commonconstants"],function(c,m,i,d,o,n,g,s,u,l,e){"use strict";var p;function P(e,r,t){var a="",a=t&&"RA"==t.prv?function(e,r){var t,a=e.misc;t=e.clickUrl,t+=c.getQueryParamString("ra","1"),"undefined"!=typeof _mNVsid&&(t+=c.getQueryParamString("vsid",_mNVsid));c.each(a,function(e,r){t+=c.getQueryParamString(r,e)}),t+=c.getQueryParamString("vi",g.getViewId()),t=[t+=c.getQueryParamString("rpip",g.getNodeServerIpAddress()),g.getBidderIdParam(),"&fdkt=",g.getFirstDisplayKeywordType(),c.getQueryParamString("tl",e.title),o.getLocHashString(),s.getEncryptedReferer()].join(""),a&&(a="&rap[]="+r+"&raid[]="+a.ra_id+"&rab[]="+encodeURIComponent(a.ra_b)+"&rab2[]="+encodeURIComponent(a.ra_b2)+"&ra_td[]="+encodeURIComponent(a.ra_td),u.setRelatedArticlesLoggingParams(a));return t}(e,r):t&&"EB"==t.prv?function(e,r,t){var a=d.ndAdParams.transferUrlHost+"?",i=d.ndAdParams.keyword,n=e.misc;a+=c.getQueryParamString("prodad","1"),a+=c.getQueryParamString("r",e.clickUrl),a+=c.getQueryParamString("o",d.ndAdParams.EB.adp),a+=c.getQueryParamString("ra_lid",d.ndAdParams.lid),"undefined"!=typeof _mNVsid&&(a+=c.getQueryParamString("vsid",_mNVsid));c.each(n,function(e,r){a+=c.getQueryParamString(r,e)}),a+=c.getQueryParamString("ra_pd",t.apd),a+=c.getQueryParamString("vi",g.getViewId()),a+=c.getQueryParamString("rpip",g.getNodeServerIpAddress()),d.ndAdParams.rapd=t.apd,n&&(u.setProductAdsLoggingParams("&rap[]="+r),u.setProductAdsLoggingParams("&raid[]="+n.ra_id),u.setProductAdsLoggingParams("&rab[]="+encodeURIComponent(n.ra_b||"")),u.setProductAdsLoggingParams("&rab2[]="+encodeURIComponent(n.ra_b2||"")),u.setProductAdsLoggingParams("&ra_td[]="+encodeURIComponent(n.ra_td||"")),u.setProductAdsLoggingParams("&pr_ctid[]="+(n.ra_catid||"")),u.setProductAdsLoggingParams("&pr_nbid[]="+(n.nbd||"")));return a=[a,"&q=",i,g.getBidderIdParam(),"&cme=",d.meta.cme,"&fdkt=",g.getFirstDisplayKeywordType(),"&page_index=",r,c.getQueryParamString("tl",e.title),c.getQueryParamString("burl",e.siteHost),o.getLocHashString(),s.getEncryptedReferer()].join("")}(e,r,t):function(e){var r=d.meta;e=e.clickUrl,"undefined"!=typeof _mNVsid&&(e+=c.getQueryParamString("vsid",_mNVsid));return e+=c.getQueryParamString("lpt",window.mnCts||""),e+=c.getQueryParamString("vi",g.getViewId()),e+=n.getABPFlag(),e+="&asn="+g.getASNumber(),e+=c.getQueryParamString("ugd",r.ugd),e=[e+=c.getQueryParamString("rpip",g.getNodeServerIpAddress()),g.getBidderIdParam(),o.getLocHashString()].join("")}(e);a+=function(){var e="";e+=c.getQueryParamString("sc",g.getStateCode()),o.isParamInLocHashObject("vgd_refimp")&&(e+="&vgd_refimp="+o.getParamFromLocHashObject("vgd_refimp"));var r=s.getCanonicalUrlObject();r&&(e+="&ourl="+encodeURIComponent(r.ourlE)+"&osrc="+encodeURIComponent(r.osrcE));return e}();e=u.pipeline.getLogQueryStringForDirectAdClickUrl();return c.isStringSet(e)&&(a+=e),1900<(a=c.prependStringBeforeQueryParamsInUrl(a,u.pipeline.getPrependLogQueryStringForDirectAdClickUrl())).length&&(g.setTransferUrlAsTooLong(),d.meta.c&&(a=function(e){var r=e.split("?");if(1<r.length){var t=r[0]+"?";t+="&c="+d.meta.c;for(var a=1;a<r.length;a++)t+=r[a];return t}return e}(a))),a}function S(e,r,t,a){var i;c.isStringSet(e.clickBeacon)&&r.addToEventMap(t,"click",void e.clickBeacon),!a||"RA"!==a.prv&&"FK"!==a.prv||(i=e,d.ndAdParams.ra_dp_tracking&&i.misc&&i.misc.ra_id&&r.addToEventMap(t,"click",(e.misc.ra_id,void g.getVisitId()))),"GM"==a.prv&&a.imprBeacons&&function(){try{var e,r=c.getLayer1WindowObject();if(!r)return;(e=r==window.parent?window.frameElement&&window.frameElement.id||null:window.parent.frameElement&&window.parent.frameElement.id||null)&&r._mNDetails&&"function"==typeof r._mNDetails.triggerAdTagEvent&&r._mNDetails.triggerAdTagEvent(g.getViewId(),"VIMP::Detect",!0,{targetElement:e})}catch(e){}}(a.imprBeacons)}function f(e,r,t){for(var a,i,n,d,o,g=e.misc||{},s=0;s<r;s++)o=e.data[s],c.isStringSet(o.title)&&c.isStringSet(o.description)&&(l.incrementAdPosition(),p.add((a=t,i=o,n=l.getAdPosition(),d=g,o=void 0,(o=new m).set(m.Properties.TYPE,a),o.set(m.Properties.POSITION,n),o.set(m.Properties.RANK,i.rank||0),o.set(m.Properties.TITLE,i.title),o.set(m.Properties.DESCRIPTION,i.description),o.set(m.Properties.IMAGE,i.imagePath),o.set(m.Properties.SITE_HOST,i.siteHost),o.set(m.Properties.CLICK_URL,P(i,n,d)),o.set(m.Properties.LOGO,""),o.set(m.Properties.CALL_TO_ACTION,""),o.set(m.Properties.MISC,i.misc),S(i,o,n,d),o)))}return{createAdCollection:function(e,r){p=i.getGenericCollection();var t=(a=l.getLeftOverAdCount())<e.data.length?a:e.data.length,a=a-t;l.setLeftOverAdCount(a),f(e,t,r)},getAdCollection:function(){return p.getAll()},backfillWithFads:function(){p=p||i.getGenericCollection(),f(d.ndAdParams.fads,l.getLeftOverAdCount(),e.AD_TYPES.FADS)}}});_mNDefine("adhandler",["util","metaparamutil","loggingservice","commonparamutil","renderinghelper","adapiurlbuilder","adcommonparams","adobjectbuilder","commonconstants","lochashutil"],function(n,i,r,o,c,d,l,m,A,u){"use strict";var g=null,t=!1;function p(){i.ndAdParams.sprfad&&n.checkItemExistsInArray(["US","UK","AU","CA","DE"],i.misc.country_code)&&"4"==i.meta.ugd&&i.ndAdParams.fads.data.unshift(i.ndAdParams.sprfad)}function s(){p(),o.setWaitForExternalAdsCall(!1),"1"!==i.ndAdParams.fdd&&m.createAdCollection(i.ndAdParams.fads,A.AD_TYPES.FADS)}return{showFapiAds:function(a){clearTimeout(g),n.clock.tock("adCallTime"),o.setWaitForExternalAdsCall(!1);var d=a.Results,t=d.AdResultSet.Listing,s=d.WebResultSet.Listing;o.setNodeServerIpAddress(a.misc?a.misc.rpip:""),n.addVgData("ndsid",a.misc.ndsid);var e={};t&&(d.AdResultSet.misc&&d.AdResultSet.misc.miscParams&&(e=d.AdResultSet.misc.miscParams),d.AdResultSet.misc&&d.AdResultSet.misc.ndAdParams&&n.each(d.AdResultSet.misc.ndAdParams,function(a,d){i.ndAdParams[d]=a}),d=(a=i.ndAdParams.rps)&&a.prv,a=a&&a.ss,n.isStringSet(d)&&u.appendToLocHashString("&rpsp="+d),n.isStringSet(a)&&u.appendToLocHashString("&rpss="+a),m.createAdCollection({data:t,misc:e},A.AD_TYPES.ADS)),s&&m.createAdCollection({data:s,misc:{}},A.AD_TYPES.WEB_RESULTS),r.addLoggingDetailsForDirectAds(e),i.misc.vgdAdLog&&"object"==typeof i.misc.vgdAdLog&&(e=i.misc.vgdAdLog,n.each(e,function(a,d){r.pipeline.addPairToPipeline(d,a)})),o.setAdReturnCount(l.getCurrentAdShownCount()),0<l.getLeftOverAdCount()&&"1"!==i.ndAdParams.fdd&&!(0<l.getCurrentAdShownCount()&&"1"===i.ndAdParams.fbd)&&(p(),m.backfillWithFads()),c.formatDisplay(l.getCurrentAdShownCount()),o.setWinningCollection(m.getAdCollection(),A.COLLECTION_TYPE.ADS)},loadAds:function(){var a;i.ndAdParams&&"1"===i.ndAdParams.isEnabled?1==i.ndAdParams.callForDA?(g=setTimeout(function(){n.addVgData("dads_fl",1),s()},6e3),t||(t=!0,o.setWaitForExternalAdsCall(!0),a=d.getFapiDirectAdsUrl(),n.addVgData("dads_host",n.getHostname(a)),n.clock.tick("adCallTime"),n.loadJsAsync(a,""))):s():c.formatDisplay(0)}}});_mNDefine("externalproviderobjectbuilder",["util","metaparamutil","nativeadmodel","collectionfactory","commonconstants"],function(t,e,i,r,s){"use strict";var o;function l(e){var t,r=new i;return r.set(i.Properties.TYPE,s.AD_TYPES.EXTERNAL),r.set(i.Properties.TITLE,(t=e).title&&t.title.text||""),r.set(i.Properties.DESCRIPTION,(t=e).desc&&t.desc.value||""),r.set(i.Properties.IMAGE,(t=e).img&&t.img.url||""),r.set(i.Properties.ADVERTISER_NAME,(t=e).spons&&t.spons.value||""),r.set(i.Properties.CLICK_URL,(t=e).link&&t.link.url||""),r.set(i.Properties.LOGO,(t=e).icon&&t.icon.url||""),r.set(i.Properties.CALL_TO_ACTION,(t=e).cta&&t.cta.value||""),r.set(i.Properties.DISPLAY_URL,(t=e).displayurl&&t.displayurl.value||""),r.set(i.Properties.DESCRIPTION_2,(t=e).desc2&&t.desc2.value||""),r.set(i.Properties.PRICE,(t=e).price&&t.price.value||""),r.set(i.Properties.JS_TRACKER,e.jstracker||""),r}return{createExternalAdCollection:function(e){o=r.getExternalProviderAdCollection(),t.each(e,function(e){o.add(l(e))}),o.setProperty(o.Properties.ADCHOICES_URL,e[0].privacy||"")},getExternalAdCollection:function(){return o}}});_mNDefine("externalproviderhandler",["util","metaparamutil","externalproviderobjectbuilder","commonparamutil","commonconstants","rtbsdatautil"],function(t,n,a,r,l,i){"use strict";return{loadExternalAds:function(){var t=i.getRtbsBidStatus(l.RTBS.NATIVE_EXTERNAL_PROVIDER_AD_CODE),e={fp:n.meta.fp,cme:n.meta.cme};a.createExternalAdCollection(t),r.setWinningCollection(a.getExternalAdCollection(),l.COLLECTION_TYPE.EXTERNAL,e)}}});_mNDefine("providerhandler",["util","eventlib","commonconstants","keywordhandler","loggingservice","adhandler","renderingadapter","externalproviderhandler","metaparamutil","rtbsdatautil","renderinghelper","commonparamutil","multilayereventutil"],function(e,i,n,t,r,d,a,o,l,g,s,u,A){"use strict";function T(){if(!u.shouldHideYBNCA()||(s.hideAdFrames(),r.firePixelOnAdUnitHide("hideYBNCA"),u.allowOnlyGenericLoggingAfterHideYBNCA())){if(g.getRtbsBidStatus(n.RTBS.IS_NATIVE_ADTAG))return g.isNativeRAProvider()?d.loadAds():g.isYbncaProvider()?c():o.loadExternalAds(),void t.handleKbbTimeout();c(),d.loadAds(),t.handleKbbTimeout()}}function c(){t.loadKeywords()}return{init:function(){t.init(),i.addToEventQueue(n.EVENTS.WINNING_COLLECTION_SET,function(e){a.renderTag(e),e.type===n.COLLECTION_TYPE.EXTERNAL?(s.formatDisplayAfterLoad(),s.injectJsTracker(e.winningCollection.get(0)),r.callRTBLoggingFunction(e.additionalLogParams),A.triggerAdLoadEvents("onAdLoadComplete",!0)):r.handleLogging(),e.type===n.COLLECTION_TYPE.ADS&&r.triggerVisibilityLoggingForRA(),A.triggerAdTagLoaded()}),T()}}});_mNDefine("loggingservice",["util","commonparamutil","keywordcommonparams","modulefactory","eventlib","renderinghelper","abputil","urlutil","lochashutil","metaparamutil","logutil","commonconstants","rtbsdatautil","domutil","loggingpipeline","multilayereventutil","l3receiver"],function(h,v,I,S,_,D,V,y,N,R,b,A,C,n,e,T,E){"use strict";var t=!1,O="",k="",F="",H=[],M=new e;function a(e){H.push(e)}function U(e,t){try{var a=n.getWindowWidth(e),i=n.getWindowHeight(e);if(a&&i)return";"+t+"_w:"+a+";"+t+"_h:"+i}catch(e){return""}return""}function B(){var e;!1===n.isAnyParentSrcful(window)&&((e=function e(t,a){try{var i;t!=top&&t.frameElement&&t.frameElement.getBoundingClientRect()&&(i=t.frameElement.getBoundingClientRect(),a.left+=i.left,a.top+=i.top,a=e(t.parent,a))}catch(e){return a}return a}(window,{top:0,left:0}))&&(e.top||e.left)&&(h.addVgData("x_pos",Math.round(e.left)),h.addVgData("y_pos",Math.round(e.top))),h.addVgDataIfValueSet("ren_page_h",n.getHeightOfRenderedPage())),M.addPairToPipeline(A.LOG_PIPELINE.RENDERED_SIZE_OF_ADTAG,n.getRenderedSizeOfAdtag())}function g(e){var t=e||!1;try{if(t){var a="s"+t.toLowerCase(),i=R.abss,i=h.getParamValueFromUrlAsArray("?"+i);return 1==V.getABPFlag("val")&&i&&i[a]||!1}if(window.stu&&""!==window.stu)return window.stu}catch(e){}return!1}function q(){var a="";return window._mNL3&&window._mNL3.ipcounters&&h.each(window._mNL3.ipcounters,function(e,t){e&&(a+="&"+t+"="+e)}),a+="&asn="+v.getASNumber(),encodeURIComponent(a)}function x(){return R.misc.altrBql&&h.isStringSet(R.misc.altrBql)&&R.misc.altrBqlBase&&h.isStringSet(R.misc.altrBqlBase)?R.misc.altrBql:""}function W(e){for(var t=window;t!=window.top;){if(h.isSet(t[e]))return t[e];t=t.parent.window}if(h.isSet(t))return t[e]}function G(){var e,t=R.log,a=R.ndAdParams;if(!0!==v.isWaitingForExternalKeywordsCall()&&!0!==v.isWaitingForExternalAdsCall()||!1!==v.isAdChoicesClicked()){var i,n,r=!v.isAdChoicesClicked();if(!v.isAdChoicesClicked()){v.isFormatDisplayAfterLoadCalled()||(v.callingFormatDisplayAfterLoad(),D.formatDisplayAfterLoad()),function(){try{T.triggerAdLoadEvents("onAdLoadComplete",!0)}catch(e){}}();try{T.triggerL1Event("callSpamSetPageAttr",v.getViewId(),!1,{l3FrameId:window.frameElement&&window.frameElement.id||null})}catch(e){}D.displayTagOnLoggingStart()}if(v.shouldLogPageview()){_.removeEvent(window,"load",G);var o=0;void 0!==window.adResult?(o=adResult.length,void 0!==window.adCnt&&!isNaN(window.adCnt)&&window.adCnt<=o&&(o=window.adCnt)):0<v.getAdReturnCount()&&(o=v.getAdReturnCount()),null==v.getFirstDisplayKeywordType()&&v.setFirstDisplayKeywordType("");var d=hostLog,s=R.meta;1==v.isAdChoicesClicked()?(d+="/adbql.php?",v.setAdChoicesClicked(!1)):d+="/bql.php?",d+="v=1",h.each(v.getPrivacyFlags(),function(e,t){h.isStringSet(t)&&h.isSet(e)&&(d+="&"+t+"="+(e||0))}),d+="&hvsid="+v.getVisitId(),s.c&&v.isTranferUrlTooLong()&&(d+="&c="+s.c),d+="&geo="+v.getGeolocation(),h.isSet(R.dlper)&&(d+="&dlper="+R.dlper),d+="&lper="+v.getLoggingPercent()+v.getBidderIdForLogging()+"&"+t+"&rc="+o;o=I.getLandingPageKeywordStrategyUsed();h.isSet(o)&&(d+="&ksu="+o),h.isStringSet(v.getStateCode())&&(d+="&vgd_l3_sc="+v.getStateCode()),""!=y.getOriginalReferrerParamForLog(a)&&(d+=y.getOriginalReferrerParamForLog(a));o=!v.allowOnlyGenericLoggingAfterHideYBNCA()?v.getKeywordList():"";if(d+="&fdkt="+v.getFirstDisplayKeywordType()+o+"&rand="+h.getTimeRand(A.TIME.RANDOM)+"&cid="+s.cid,a){if(a.impl&&(d+="&impl="+a.impl),a.viewLogParams)for(var g in a.viewLogParams)a.viewLogParams.hasOwnProperty(g)&&(d+=h.getQueryParamString(g,a.viewLogParams[g]));if(0==a.ismo&&(d+="&ismo="+a.ismo),a.prvdata)for(e=a.prvdata.length,m=0;m<e;m++)d+="&prvdata[]="+a.prvdata[m];if(a.lid&&(d+="&ra_lid="+a.lid),!a.prvorder||(P=h.getLayer1WindowObject())&&P._mN&&P._mN._util&&-1!==a.prvorder.join("|").indexOf("RA")&&(f=P._mN._util.mngc&&P._mN._util.mngc("ra_depth_tracking"))&&(d+="&radata="+encodeURIComponent(f)),null!=a.rapd&&(d+="&ra_pd="+encodeURIComponent(a.rapd)),a.adcls)for(var c=a.adcls.length,m=0;m<c;m++){var l,u,p=a.adcls[m];p&&p.prv&&p.nCall&&p.nRet&&(l=p.prv+"acl",u=p.prv+"aret",d+="&tdAdd[]="+encodeURIComponent(l+"="+p.nCall),d+="&tdAdd[]="+encodeURIComponent(u+"="+p.nRet),h.addVgData(l,p.nCall),h.addVgData(u,p.nRet))}var w=h.getLayer1WindowObject();w&&w._mNDetails&&w._mNDetails.rmDisp&&(d+="&tdAdd[]="+encodeURIComponent("rmDisp=1")),d+=h.getQueryParamString("pr_gid",a.progrpid),O&&(d+=O),k&&(d+=k)}v.getViewId()&&(d+="&vwid="+v.getViewId(),d+="&vi="+v.getViewId()),h.isStringSet(R.misc.altKwd)&&(d+="&ak="+R.misc.altKwd),d+="&l3ch="+(v.getViewId()?v.getServerComputedViewId()?v.getViewId()==v.getServerComputedViewId()?0:1:2:3),h.addVgDataIfValueSet("l1ch",N.getParamFromLocHashMisc("l1ch")),h.addVgDataIfValueSet("l2ch",N.getParamFromLocHashMisc("l2ch")),v.getSiteLinkPresentStatus()&&(d+="&slnkp="+v.getSiteLinkPresentStatus()),v.shouldLogSiteLinkPositions()&&(d+="&slnkc="+encodeURIComponent(v.getSiteLinkPositionsToLog()));var P=C.getRtbsBidStatus(A.RTBS.BIDDER_COST);P&&(d+="&bdrct="+P);var f=C.getRtbsBidStatus("mnet_segment");f&&(d+="&vgd_mseg="+f),d+=R.getHbAuditLogParam();var w=C.getRtbsBidStatus(A.RTBS.RTBS_TIME);""!=w&&(d+="&vgd_rt="+w);var P=C.getRtbsBidStatus(A.RTBS.WINNING_REASON);""!==P&&(d+="&bto="+P);var f="";h.isStringSet(f=C.getRtbsBidStatus(A.RTBS.AUCTION_ID))?d+="&vgd_opp_id="+f:h.isStringSet(f=N.getParamFromLocHashObject("acid"))&&(d+="&acid="+f),N.isParamInLocHashObject("rtbsd")&&(d+="&tdAdd[]="+encodeURIComponent("rtbsd="+N.getParamFromLocHashObject("rtbsd"))),-1!=h.clock.time("adCallTime")&&(d+="&adiff="+h.clock.time("adCallTime")),R.meta.ib&&(d+="&tdAdd[]=ib="+R.meta.ib),d+=N.getWhiteListedLocHashMiscParamsToLog(),d+=window.mrtu&&""!=window.mrtu?"&mrtak="+encodeURIComponent(window.mrtu):"",d+=N.getLocHashToLog(),d+="&matm="+h.getTimeRand("matm");var w=parseInt(N.getParamFromLocHashMisc("stime")),P=parseInt(N.getParamFromLocHashMisc("startTime")),f=(new Date).getTime();isNaN(w)?isNaN(P)||(d+="&vgd_ltime="+(f-P)+"&vgd_ltimesrc=2"):d+="&vgd_ltime="+(f-w)+"&vgd_ltimesrc=1","undefined"!=typeof _mNVsid&&0<_mNVsid.length&&(d+="&vsid="+_mNVsid),d+=F,d+=V.getABPFlag(),v.getNodeServerIpAddress()&&h.addVgData("nsip",v.getNodeServerIpAddress());try{window.parent&&window.parent._mNYMDiff&&(d+="&ymkbdiff="+window.parent._mNYMDiff)}catch(e){}if(-1!=N.getLocHashString().indexOf("ornt=v"))return;-1!=d.indexOf("kbbq")?d=d.replace(/kbbq=([^&]*)/,"kbbq=$1"+q()):d+="&kbbq="+q(),window._mNL3&&window._mNL3.esPar&&h.each(window._mNL3.esPar,function(e,t){e&&(d+="&tdAdd[]="+encodeURIComponent(t+"="+e))}),R.misc.ref_domain&&h.addVgData("refdomain",R.misc.ref_domain),R.misc.katid&&h.addVgData("katid",decodeURIComponent(R.misc.katid)),R.misc.katbid&&h.addVgData("katbid",decodeURIComponent(R.misc.katbid)),N.isParamInLocHashMisc("kals")&&h.addVgData("kals",decodeURIComponent(N.getParamFromLocHashMisc("kals"))),N.isParamInLocHashMisc("kalog")&&h.addVgData("kalog",decodeURIComponent(N.getParamFromLocHashMisc("kalog"))),N.isParamInLocHashMisc("kasts")&&h.addVgData("kasts",decodeURIComponent(N.getParamFromLocHashMisc("kasts"))),N.isParamInLocHashMisc("web_view")&&h.addVgData("web_view",N.getParamFromLocHashMisc("web_view"));P=x();P&&h.addVgData("altbql",P);var f=v.isClientKbb();h.isStringSet(f)&&h.addVgData("clsKb",f),R.misc.pdtid&&h.addVgData("pdtid",R.misc.pdtid),1==R.misc.mrEnvLog&&3==R.meta.ugd&&function(){try{var e=W("mraid"),a=W("MRAID_ENV"),t=!1;h.isSet(e)&&(t=!0,h.addVgData("mrobj","1")),h.isSet(a)?h.each({mrsdk:"sdk",mrsdkv:"sdkVersion",mrappid:"appId"},function(e,t){a.hasOwnProperty(e)&&h.addVgData(t,a[e])}):t&&h.addVgData("mrsdkv",e.getVersion()+"_v1")}catch(e){}}();w=v.getImageBlockedList();w&&h.addVgData("blimgs",w),("2"==N.getRefreshYBNCAImpFlag()||-1!=N.getLocHashString().indexOf("nocont=1")||v.ignoreViewForAsn()||v.ignoreViewBasedOnFeature())&&(d+="&iscont=0"),R.misc.implt&&h.isSet(R.misc.implt)&&h.addVgData("implt",R.misc.implt),h.addVgDataIfValueSet("csip",E.getL3DecisionParamValue("csip"));P=C.getRtbsBidStatus("dfpTgt");h.addVgDataIfValueSet("dfp_tgt",P&&window.JSON&&JSON.stringify&&JSON.stringify(P)),h.addVgData("sbSup",b.isSendBeaconSupport()?"1":"0");f=y.getCanonicalUrlObject();f&&(h.addVgData("ourl",f.ourl),h.addVgData("osrc",f.osrc));w=C.getRtbsBidStatus(A.RTBS.IS_NATIVE_ADTAG);w&&h.addVgData("isnat",w),h.addVgDataIfValueSet("l1ac",N.getParamFromLocHashMisc("l1ac")),h.addVgDataIfValueSet("l2ac",N.getParamFromLocHashMisc("l2ac")),h.addVgDataIfValueSet("l3ac",R.misc.oHst),N.isParamInLocHashMisc("l2wsip")&&h.addVgData("l2wsip",N.getParamFromLocHashMisc("l2wsip")),N.isParamInLocHashMisc("drtbs")&&h.addVgData("drtbs",N.getParamFromLocHashMisc("drtbs")),h.addVgDataIfValueSet("vsidv",N.getParamFromLocHashMisc("vgd_vsidv")),B(),h.addVgDataIfValueSet("lapc",N.getParamFromLocHashMisc("dypc")),h.addVgDataIfValueSet("lapgc",N.getParamFromLocHashMisc("dypgc")),h.addVgDataIfValueSet("lac",N.getParamFromLocHashMisc("dyc")),h.addVgDataIfValueSet("lanx",N.getParamFromLocHashMisc("dynx")),h.addVgData("cty",v.getCityName()),h.addVgData("nrrsf","ntrr"),h.addVgData("nrrv","10261"),h.addVgData("nrrs","10261"),h.addVgData("nrrmf","4a"),h.addVgDataIfValueSet("cntrdt",E.getL3DecisionParamValue("cntrdt")),L(N.getParamFromLocHashMisc("l1hcsd")),L(N.getParamFromLocHashMisc("sethcsd")),window._mNL3&&L(window._mNL3._mmHcSd),E.getL3DecisionParamValue("tcf_cmp")&&S.tcfDataManager.isResolved()&&S.tcfDataManager.addConsentDataToLog(),d+=h.getVgDataStringToLog(),d+=M.getLogStringForPageView();P=d=h.prependStringBeforeQueryParamsInUrl(d,M.getPrependLogStringForPageView());N.isParamInLocHashMisc("requrl")&&(d+="&requrl="+N.getParamFromLocHashMisc("requrl")),null!=s.oRurl&&(d+="&oRurl="+s.oRurl),d+="&tdAdd[]="+encodeURIComponent("uiparams="+function(){var e="";e+=U(window,"rend");try{e+=U(window.top,"win")}catch(e){}return v.getKeywordShownCount()&&(e+=";kwd_scnt:"+v.getKeywordShownCount()),e}()),N.isParamInLocHashMisc("cref")&&(d+="&vgd_crefurl="+decodeURIComponent(N.getParamFromLocHashMisc("cref"))),R.misc&&1===R.misc.lpua&&(d+="&vgd_lpua="+encodeURIComponent(window.navigator.userAgent)),h.isStringSet(E.getL3DecisionParamValue("clkIdQs"))&&(d+="&vgd_clkId="+encodeURIComponent(E.getL3DecisionParamValue("clkIdQs"))),d=function(e){try{return window._mNL3._trunLogUrl?(e=h.truncateUrl(e,window._mNL3._trunLogUrl),e+="&vgd_end=2"):!function(e){return 4e3<e.length&&h.checkItemExistsInArray(["8","9","10","11"],h.getIEVersion().toString())}(e)?e+="&vgd_end=1":(e=h.truncateUrl(e,4e3),e+="&vgd_end=3"),e}catch(e){}return e}(d+=(f=E.getL3DecisionParamValue("kClkUP"),w="",h.isStringSet(f)&&(w="&vgd_kclkp_d="+f),w)),R.misc.bqlPost?b.logBeacons(d,{method:"post"}):b.logBeacons(d,{method:"get"}),f=P,(w=x())&&(P=R.misc.altrBqlBase,f=b.splitUrl(f),P+=(h.isSet(f.queryString)?f.queryString:"")+"&r="+(new Date).getTime(),"get"===w?b.logViaImage(P):b.logBeacons(P,{method:w})),void 0!==R.misc.orgLogHost&&h.isStringSet(R.misc.orgLogHost)&&-1!=d.indexOf("/bql.php")&&(w=d.replace(hostLog+"/bql.php",R.misc.orgLogHost+"/oql.php"),loadJsAsync(w,"")),s&&s.maxProviderPixel2&&h.isStringSet(s.maxProviderPixel2)&&H.push(decodeURIComponent(s.maxProviderPixel2)),R.misc.resHostPixelUrl&&h.isStringSet(R.misc.resHostPixelUrl)&&(H.push(hostName+"/px.gif"),H.push(R.misc.resHostPixelUrl)),function(){try{!window.console||"function"!=typeof console.log||-1===decodeURIComponent(N.getLocHashString()).indexOf("ea=1")&&-1===decodeURIComponent(N.getLocHashString()).indexOf("ea%3D1")||console.log("EADone")}catch(e){}}(),window._mNL3&&1==window._mNL3._pushNoti&&(i={},(n=h.getLayer1WindowObject())&&n._mNDetails&&n._mNDetails._mNPushNtf&&"function"==typeof n._mNDetails._mNPushNtf.initPushNotification&&("object"==typeof window._mNL3._pushNotiParams&&(i=window._mNL3._pushNotiParams),"object"==typeof window._mNL3.pushNotiJs&&(i.pushNotiJs=window._mNL3.pushNotiJs),n._mNDetails._mNPushNtf.initPushNotification(i))),R.misc.slpd&&(n="logPerf_l2",i=v.getViewId(),h.getLayer1WindowObject()==window.parent&&(n="logPerf_l1"),_.triggerParentEvent(n,i,!0,{vi:i,cid:R.meta.cid,hvsid:v.getVisitId()}))}r&&(D.callLayer1CustomPostRendering(),r={vsid:_mNVsid},T.triggerAdLoadEvents("dmpTrigger",!0,r)),D.adjustIframeHeightToBody(),R.misc.hbRACb&&_.triggerParentEvent("adRenderingCompleted",v.getViewId(),!1,{}),function(){for(var e=H.length,t=0;t<e;t++)try{(new Image).src=H[t]}catch(e){}}(),h.clock.stop()}function L(e){var t;!h.isStringSet(e)||2==(t=e.split("!")).length&&(e=t[0]+"hcsd",h.addVgDataIfValueSet(e,t[1]))}}function r(){var e,t=h.getLayer1WindowObject();t&&t._mN&&t._mN.util&&"function"==typeof t._mN.util.triggerAdTagEventWhenQueued&&(e={logPageView:function(){G()}},t._mN.util.triggerAdTagEventWhenQueued(R.meta.crid,"onAdLoad::beforePixelJsLogging",!1,e))}function o(){var e={logPageView:function(){G()}};if(S.mraidDelayedLogging.isResolved())try{S.mraidDelayedLogging.logPageViewWhenMraidReady(e)}catch(e){}}function d(){_.removeEvent(window,"load",d),_.triggerParentEvent("pushNotificationDetails",v.getViewId(),!0,{viewId:v.getViewId(),type:"L3",L2:"1",pid:R.meta.pid})}function s(){if(!t)try{var e=h.getLayer1WindowObject();e&&e._mNDetails&&e._mNDetails.mobileCallbacksRequired&&(e=window.document,e={width:window.innerWidth||e.documentElement&&e.documentElement.clientWidth||e.body&&e.body.clientWidth,height:window.innerHeight||e.documentElement&&e.documentElement.clientHeight||e.body&&e.body.clientHeight},T.triggerAdLoadEvents("onAdLoad::beforePageView",!0,e),t=!0)}catch(e){}}function c(){var e,a,t=R.misc.onPageTimeSamplingRate;t&&(e=h.getLayer1WindowObject(),a=e&&e._mNDetails,h.getRandom(1,100)<=t&&a&&(a.onPageTimeData=a.onPageTimeData||{},t=R.meta.crid,a.onPageTimeData.crid="crid"in a.onPageTimeData?a.onPageTimeData.crid+"|"+t:t,"onPageTimerStart"in a.onPageTimeData==!1&&(a.onPageTimeData.onPageTimerStart=(new Date).getTime(),_.addEvent(window,"beforeunload",function(){var e,t=(new Date).getTime()-a.onPageTimeData.onPageTimerStart;e=t,t="",t+=h.getQueryParamString("timeOnPage",e),t+=h.getQueryParamString("cridPage",a.onPageTimeData.crid),t+=h.getQueryParamString("cid",R.meta.cid),t+=h.getQueryParamString("crid",R.meta.crid),t+=h.getQueryParamString("hvsid",v.getVisitId()),t+=h.getQueryParamString("vsid",v.getVisitorId()),t+=h.getQueryParamString("viewId",v.getViewId()),t+=h.getQueryParamString("requrl",R.misc.purl),t+=h.getQueryParamString("refurl",R.misc.referer),t+=h.getQueryParamString("cc",R.misc.country_code),t+=h.getQueryParamString("r",(new Date).getTime()),(new Image).src=hostLog+"/log?logid=kfk&evtid=opt&"+t}))))}function m(e){var t,a,i,n,r,o,d,s="|@|";e&&e.prv&&(t=e.prv,a=g(e.prv)||R.ndAdParams[t].ss||"",i=R.ndAdParams[t].tt||"",d=R.ndAdParams[t].ttog||R.ndAdParams[t].tt||"",n=R.ndAdParams[t].id||"",r=R.ndAdParams[t].pref||"",o=e.count||0,""!=a&&""!=i&&0!=o&&(R.ndAdParams.ismo=1),v.getViewId()||v.setViewId(e.vwid),d=t+s+n+s+a+s+i+s+o+s+r+s+d,R.ndAdParams.prvdata||(R.ndAdParams.prvdata=[]),R.ndAdParams.prvdata.push(d),"SM"!=t&&"SS"!=t||(R.ndAdParams.adcls||(R.ndAdParams.adcls=[]),(d={}).prv=t,d.nCall=-1,d.nRet=-1,e.nCall&&(d.nCall=e.nCall),e.nRet&&(d.nRet=e.nRet),R.ndAdParams.adcls.push(d)))}function l(){var e=function(){try{var e=(navigator.connection||navigator.mozConnection||navigator.webkitConnection).effectiveType||"";return"slow-2g"===e&&(e="s2g"),e}catch(e){}return""}();h.isStringSet(e)&&M.addPairToPipeline(A.LOG_PIPELINE.EFFECTIVE_CONNECTION_TYPE,e)}function u(){h.isStringSet(v.getVisitorId())&&M.addPairToPipeline(A.LOG_PIPELINE.MACRO_VISITOR_ID,v.getVisitorId()),function(){var e=C.getRtbsBidStatus("bidData")||N.getParamFromLocHashMisc("vgd_bdata");if(e)try{e=decodeURIComponent(e),M.addPairToPipeline(A.LOG_PIPELINE.BID_DATA,e,!0)}catch(e){}}(),M.addPairToPipeline(A.LOG_PIPELINE.OPT_OUT,v.getMnetOptOut()?1:0),h.each(R.lgPp,function(e,t){M.addPairToPipeline(t,e)}),function(){M.addPairToPipeline(A.LOG_PIPELINE.RENDERED_SIZE_OF_ADTAG,n.getRenderedSizeOfAdtag());var e=n.getWindowScreenDimensions();M.addPairToPipeline(A.LOG_PIPELINE.SCREEN_HEIGHT,e.height),M.addPairToPipeline(A.LOG_PIPELINE.SCREEN_WIDTH,e.width)}(),function(){for(var e=["dma",A.LOG_PIPELINE.MACRO_VISITOR_ID,A.LOG_PIPELINE.L2_TYPE],t=0;t<e.length;t++){var a=e[t];N.isParamInLocHashMisc(a)&&M.addPairToPipeline(a,N.getParamFromLocHashMisc(a))}}(),l()}return{init:function(){u(),c()},handleLogging:function(){var e=h.getLayer1WindowObject();e&&e.waitForInslDisp&&e.waitForInslDisp[R.meta.crid]||e&&e.waitForEInsl&&e.waitForEInsl[R.meta.crid]||("1"===R.misc.bobql||R.misc.jtag||function(){if(_.addEvent(window,"load",d),"complete"==document.readyState)return 1;_.addEvent(window,"load",s),1==R.misc.macIaLog?_.addEvent(window,"load",o):R.misc.mIaLog?_.addEvent(window,"load",r):_.addEvent(window,"load",G)}())&&(s(),(1==R.misc.macIaLog?o:R.misc.mIaLog?r:G)())},getSTUsed:g,setRelatedArticlesLoggingParams:function(e){O+=e},setProductAdsLoggingParams:function(e){k+=e},addToMiscLoggingParams:function(e){F+=e},addBeacons:a,setProviderInfoForNodeJsLogging:m,addLoggingDetailsForDirectAds:function(e){e.beacon&&a(e.beacon),e&&(e.count=i,m(e))},firePixelOnAdUnitHide:function(e,t){e=e||"NULL",e=hostLog+"/log?logid=kfk&evtid="+(t||"hybn")+"&tp="+e+"&fp="+R.meta.fp+"&cme="+R.meta.cme,(new Image).src=e+"&r="+(new Date).getTime()},callRTBLoggingFunction:function(e){var t=C.getRtbsBidStatus(A.RTBS.LOGGING_FUNCTION);"function"==typeof t&&t(!0,e)},triggerVisibilityLoggingForRA:function(){var e,t;window.RAUtil&&"function"==typeof window.RAUtil.triggerVisibilityDetection&&(e=v.getRAElementsForVisibility(),h.isSet(e)&&(t={vi:v.getViewId(),hvsid:v.getVisitId(),vsid:v.getVisitorId()},window.RAUtil.triggerVisibilityDetection(t,e)))},pipeline:M,fireLogPixel:function(e,t){var a,i={requrl:decodeURIComponent(R.misc.purl)};for(a in i)t[a]=i[a];e=hostLog+e+"?"+h.buildUrlParameters(t),(new Image).src=e+"&r="+(new Date).getTime()}}});_mNDefine("core",["util","commonconstants","providerhandler","metaparamutil","lochashutil","l3receiver","loggingservice","commonparamutil","overrideprivacypolicylinkhost"],function(i,e,t,r,o,a,n,l,c){"use strict";return i.clock.start(),i.setTimeRand(e.TIME.RANDOM),i.clock.tick(e.TIME.KEYWORDS_LOAD_TIMESTAMP),{init:function(){var e;i.setTimeRand("matm"),r.init(),o.init(),e=a.getL3DecisionParamValue("kwdArr"),moduleFactory.macroKeywords.isResolved()&&i.isStringSet(e)&&(n.pipeline.addPairToPipeline("mc_kwds",2),moduleFactory.macroKeywords.addKwdsToMeta(e)),n.init(),c.modifyPrivacyPolicyLink(a.getL3DecisionParamValue("kwchost")),moduleFactory.conversionPixelController.isResolved()&&moduleFactory.conversionPixelController.init(l.getViewId()),moduleFactory.hover.isResolved()&&moduleFactory.hover.init(o.getLocHashToLog()),1==a.getL3DecisionParamValue("tcf_cmp")&&moduleFactory.tcfDataManager.isResolved()&&moduleFactory.tcfDataManager.waitForTcDataToBeReady(l.getViewId()),t.init()}}});var adPrefDeviceUtil=_mNRequire(["adprefdeviceutil"])[0],adPrefMobileUtil=_mNRequire(["adprefmobileutil"])[0],moduleFactory=_mNRequire(["modulefactory"])[0],mUtil=_mNRequire(["core","keywordrandomizer","adhandler","util","abputil","renderinghelper","rtbsdatautil","loggingservice","multilayereventutil"],function(e,i,t,r,o,a,n,l,c){return e.init(),{showKwd:i.kwdRandmzn,showFapiAds:t.showFapiAds,getLayer1WindowObject:r.getLayer1WindowObject,getABPFlag:o.getABPFlag,changeAdFramesDimensions:a.changeAdFramesDimensions,getRtbsDisableReason:n.getRtbsDisableReason,fireLogPixel:l.fireLogPixel,triggerL1Event:c.triggerL1Event,truncateUrl:r.truncateUrl}});